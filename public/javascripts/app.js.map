{"version":3,"sources":["app/application.coffee","app/colorList.coffee","app/components/loading/loading.coffee","app/controllers/baseController.coffee","app/entities/entities.coffee","app/init.coffee","app/lib/stationList.coffee","app/lib/view_helper.coffee","app/modules/about/about_app.coffee","app/modules/about/showAbout/showAbout_controller.coffee","app/modules/about/showAbout/templates/show_layout.hbs","app/modules/artists/artists_app.coffee","app/modules/artists/show/graph.coffee","app/modules/artists/show/landingGraph.coffee","app/modules/artists/show/show_controller.coffee","app/modules/artists/show/templates/appearance.hbs","app/modules/artists/show/templates/artistItem.hbs","app/modules/artists/show/templates/artists.hbs","app/modules/artists/show/templates/empty.hbs","app/modules/artists/show/templates/emptyview.hbs","app/modules/artists/show/templates/graph.hbs","app/modules/artists/show/templates/panel.hbs","app/modules/artists/show/templates/show_layout.hbs","app/modules/artists/show/templates/start.hbs","app/modules/artists/show/templates/startPanel.hbs","app/modules/artists/show/templates/title.hbs","app/modules/footer/footer_app.coffee","app/modules/footer/show/show_controller.coffee","app/modules/header/header_app.coffee","app/modules/header/list/list_controller.coffee","app/modules/header/list/templates/header.hbs","app/modules/header/list/templates/headers.hbs","app/modules/landing/landing_app.coffee","app/modules/landing/showLanding/labelsGraph.coffee","app/modules/landing/showLanding/landingGraph.coffee","app/modules/landing/showLanding/newAlbumsGraph.coffee","app/modules/landing/showLanding/reportingGraph.coffee","app/modules/landing/showLanding/showLanding_controller.coffee","app/modules/landing/showLanding/templates/chart.hbs","app/modules/landing/showLanding/templates/chartItem.hbs","app/modules/landing/showLanding/templates/circles.hbs","app/modules/landing/showLanding/templates/empty.hbs","app/modules/landing/showLanding/templates/graph.hbs","app/modules/landing/showLanding/templates/info.hbs","app/modules/landing/showLanding/templates/search.hbs","app/modules/landing/showLanding/templates/show_layout.hbs","app/modules/landing/showLanding/templates/stationList.hbs","app/modules/station/showStation/showStation_controller.coffee","app/modules/station/showStation/stationGraph.coffee","app/modules/station/showStation/stationMap.coffee","app/modules/station/showStation/templates/chart.hbs","app/modules/station/showStation/templates/chartItem.hbs","app/modules/station/showStation/templates/empty.hbs","app/modules/station/showStation/templates/emptyview.hbs","app/modules/station/showStation/templates/graph.hbs","app/modules/station/showStation/templates/panel.hbs","app/modules/station/showStation/templates/show_layout.hbs","app/modules/station/showStation/templates/singleStation.hbs","app/modules/station/showStation/templates/start.hbs","app/modules/station/showStation/templates/startPanel.hbs","app/modules/station/showStation/templates/startTitle.hbs","app/modules/station/showStation/templates/title.hbs","app/modules/station/showStation/templates/topItem.hbs","app/modules/station/showStation/templates/topthree.hbs","app/modules/station/station_app.coffee","app/views/AppLayout.coffee","app/views/templates/appLayout.hbs","app/views/templates/footer.hbs"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApGA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnIA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjzBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AADA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/aA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAppBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/KA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvIA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnGA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApmBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAptBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApGA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3KA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA","file":"public/javascripts/app.js","sourcesContent":["var App, Application, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nrequire('lib/view_helper');\n\nApplication = (function(_super) {\n  __extends(Application, _super);\n\n  function Application() {\n    this.initialize = __bind(this.initialize, this);\n    _ref = Application.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Application.prototype.initialize = function() {\n    var _this = this;\n    this.rootRoute = \"home\";\n    this.on(\"initialize:after\", function(options) {\n      this.startHistory();\n      if (!this.getCurrentRoute()) {\n        this.navigate(this.rootRoute, {\n          trigger: true,\n          init: true\n        });\n      }\n      return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n    });\n    this.addRegions({\n      headerRegion: \"#header-region\",\n      mainRegion: \"#main-region\",\n      footerRegion: \"#footer-region\"\n    });\n    this.mainRegion.open = function(view) {\n      this.$el.hide();\n      if (view.el.id !== \"loadingView\") {\n        this.$el.fadeOut(\"slow\");\n        this.$el.html(view.el).css({\n          'opacity': 0\n        });\n        this.$el.show();\n        return this.$el.fadeTo(\"slow\", 1);\n      } else {\n        return this.$el.show();\n      }\n    };\n    this.reqres.setHandler(\"default:region\", function() {\n      return _this.mainRegion;\n    });\n    this.addInitializer(function() {\n      _this.module('HeaderApp').start();\n      return _this.module('FooterApp').start();\n    });\n    return this.start();\n  };\n\n  return Application;\n\n})(Backbone.Marionette.Application);\n\nApp = new Application();\n\nApp.commands.setHandler(\"register:instance\", function(instance, id) {\n  return App.register(instance, id);\n});\n\nApp.commands.setHandler(\"unregister:instance\", function(instance, id) {\n  return App.unregister(instance, id);\n});\n\nApp.rootRoute = '';\n\nmodule.exports = App;\n\nDate.prototype.yyyymmdd = function() {\n  var dd, mm, yyyy;\n  yyyy = this.getFullYear().toString();\n  mm = (this.getMonth() + 1).toString();\n  dd = this.getDate().toString();\n  return yyyy + \"-\" + (mm[1] ? mm : \"0\" + mm[0]) + \"-\" + (dd[1] ? dd : \"0\" + dd[0]);\n};\n\nrequire('controllers/baseController');\n\nrequire('entities/entities');\n\nrequire('components/loading/loading');\n\nrequire('modules/header/header_app');\n\nrequire('modules/footer/footer_app');\n\nrequire('modules/about/about_app');\n\nrequire('modules/artists/artists_app');\n\nrequire('modules/station/station_app');\n\nrequire('modules/landing/landing_app');\n","var c3Range, cRange, cityColors, color, color2, color3, colorBox, colorList, colors, fullRange, stationColors, stationList;\n\nstationList = require('lib/stationList');\n\ncolor = d3.scale.category20c();\n\ncolor2 = d3.scale.category20b();\n\ncolor3 = d3.scale.category20();\n\nfullRange = color.range();\n\ncRange = color2.range();\n\ncRange.forEach(function(c) {\n  return fullRange.push(c);\n});\n\nc3Range = color3.range();\n\nc3Range.forEach(function(c) {\n  return fullRange.push(c);\n});\n\ncolor.range(fullRange);\n\ncolorList = {};\n\n_.each(stationList, function(station) {\n  return colorList[station.toLowerCase()] = color(station);\n});\n\ncolors = function(station) {\n  if (typeof station === \"string\" && stationColors[station.toUpperCase()]) {\n    return stationColors[station.toUpperCase()];\n  } else if (cityColors[station]) {\n    return cityColors[station];\n  } else {\n    color.range(fullRange.sort());\n    return color(station);\n  }\n};\n\nmodule.exports = colors;\n\ncolorBox = {\n  BC: ['#8ad08c', '#80c47e', '#77b972', '#6fad66', '#67a25b', '#609651', '#598b48', '#52803e', '#4c7436', '#45692e'],\n  AB: ['#d5d075', '#c1bb73', '#aea770', '#9b946b', '#878164'],\n  SK: ['#e3a667'],\n  MB: ['#cc9f61', '#b5945a', '#9e8752', '#877949'],\n  ON: ['#e9817d', '#e37b74', '#dd776b', '#d67263', '#d06e5b', '#c96b53', '#c3684c', '#bd6545', '#b6623e', '#b06037', '#aa5d31', '#a35b2b', '#9d5926', '#965821', '#90561c', '#8a5417', '#835313', '#7d510f', '#774f0b', '#704d08'],\n  QC: ['#d768db', '#c566d1', '#b564c6', '#a562bc', '#975fb1', '#8a5ca7', '#7d589c', '#725592', '#675187', '#5c4c7d'],\n  NB: ['#20a3fe', '#40c8fe', '#60e4fd', '#7ff8fd', '#9ffcf5'],\n  NS: ['#0165e4', '#025bc9', '#0351ae', '#044593', '#043a78'],\n  NL: ['#22fc32', '#4efa44', '#7ff765', '#a7f585', '#c6f2a5']\n};\n\nstationColors = {\n  \"CHLY\": \"#45692e\",\n  \"CFUV\": \"#4c7436\",\n  \"CITR\": \"#52803e\",\n  \"CFRO\": \"#598b48\",\n  \"CJSF\": \"#609651\",\n  \"CIVL\": \"#67a25b\",\n  \"CFUR\": \"#6fad66\",\n  \"CFBX\": \"#77b972\",\n  \"CJLY\": \"#80c47e\",\n  \"CICK\": \"#8ad08c\",\n  \"CJSR\": \"#ebe06e\",\n  \"CKUA\": \"#e4da74\",\n  \"CJSW\": \"#ddd479\",\n  \"CKXU\": \"#d7ce7d\",\n  \"undefined\": \"#c6f2a5\",\n  \"CFCR\": \"#e7DEB2\",\n  \"CJUM\": \"#cc9f61\",\n  \"CKUW\": \"#ca6400\",\n  \"CILU\": \"#c64544\",\n  \"CKLU\": \"#c84a48\",\n  \"CJAM\": \"#ca4f4c\",\n  \"CHRW\": \"#cc5450\",\n  \"RADL\": \"#ce5853\",\n  \"CKMS\": \"#d05d57\",\n  \"CFRU\": \"#d2625b\",\n  \"CIUT\": \"#d4675f\",\n  \"SCOP\": \"#d66c63\",\n  \"CHRY\": \"#d77167\",\n  \"CSCR\": \"#d9766c\",\n  \"CFMU\": \"#db7b70\",\n  \"CIOI\": \"#dd8074\",\n  \"CFRE\": \"#df8478\",\n  \"CFBU\": \"#e1897d\",\n  \"CFRC\": \"#e38e81\",\n  \"CKCU\": \"#e59386\",\n  \"CHUO\": \"#e7988a\",\n  \"CJMQ\": \"#d768db\",\n  \"CJLO\": \"#c566d1\",\n  \"CHOQ\": \"#b564c6\",\n  \"CISM\": \"#a562bc\",\n  \"CKUT\": \"#975fb1\",\n  \"CFOU\": \"#8a5ca7\",\n  \"CHYZ\": \"#7d589c\",\n  \"CHMA\": \"#0165e4\",\n  \"CHSR\": \"#025bc9\",\n  \"CFMH\": \"#0351ae\",\n  \"CKDU\": \"#20a3fe\",\n  \"CFXU\": \"#40c8fe\",\n  \"CAPR\": \"#60e4fd\",\n  \"CHMR\": \"#00FFFF\"\n};\n\ncityColors = {\n  \"Nanaimo\": \"#45692e\",\n  \"Victoria\": \"#4c7436\",\n  \"Vancouver\": \"#52803e\",\n  \"Burnaby\": \"#609651\",\n  \"Abbotsford\": \"#67a25b\",\n  \"Prince George\": \"#6fad66\",\n  \"Kamloops\": \"#77b972\",\n  \"Nelson\": \"#80c47e\",\n  \"Smithers\": \"#8ad08c\",\n  \"Edmonton\": \"#ebe06e\",\n  \"Calgary\": \"#ddd479\",\n  \"Lethbridge\": \"#d7ce7d\",\n  \"Saskatoon\": \"#e7DEB2\",\n  \"Winnipeg\": \"#cc9f61\",\n  \"Thunder Bay\": \"#c64544\",\n  \"Sudbury\": \"#c84a48\",\n  \"Windsor\": \"#ca4f4c\",\n  \"London\": \"#cc5450\",\n  \"Waterloo\": \"#ce5853\",\n  \"Guelph\": \"#d2625b\",\n  \"Toronto\": \"#d4675f\",\n  \"North York\": \"#d77167\",\n  \"Hamilton\": \"#db7b70\",\n  \"Mississauga\": \"#df8478\",\n  \"St. Catharines\": \"#e1897d\",\n  \"Kingston\": \"#e38e81\",\n  \"Ottawa\": \"#e59386\",\n  \"Sherbrooke\": \"#d768db\",\n  \"Montreal\": \"#c566d1\",\n  \"Trois-Rivieres\": \"#8a5ca7\",\n  \"QuÃ©bec\": \"#7d589c\",\n  \"Sackville\": \"#0165e4\",\n  \"Fredericton\": \"#025bc9\",\n  \"Saint John\": \"#0351ae\",\n  \"Halifax\": \"#20a3fe\",\n  \"Antigonish\": \"#40c8fe\",\n  \"Sydney\": \"#60e4fd\",\n  \"St. John's\": \"#00FFFF\"\n};\n","var App, Controllers,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nControllers = require('controllers/baseController');\n\nmodule.exports = App.module(\"Components.Loading\", function(Loading, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1;\n  Loading.LoadingController = (function(_super) {\n    __extends(LoadingController, _super);\n\n    function LoadingController() {\n      _ref = LoadingController.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    LoadingController.prototype.initialize = function(options) {\n      var config, loadingView, view;\n      view = options.view, config = options.config;\n      config = _.isBoolean(config) ? {} : config;\n      _.defaults(config, {\n        loadingType: \"spinner\",\n        entities: this.getEntities(view),\n        debug: false\n      });\n      switch (config.loadingType) {\n        case \"opacity\":\n          if (this.region.currentView) {\n            this.region.currentView.$el.css(\"opacity\", 0.2);\n          }\n          break;\n        case \"spinner\":\n          loadingView = this.getLoadingView();\n          this.show(loadingView);\n          break;\n        default:\n          throw new Error(\"Invalid loadingType\");\n      }\n      return this.showRealView(view, loadingView, config);\n    };\n\n    LoadingController.prototype.showRealView = function(realView, loadingView, config) {\n      var _this = this;\n      return App.execute(\"when:fetched\", config.entities, function() {\n        switch (config.loadingType) {\n          case \"opacity\":\n            if (_this.region.currentView) {\n              _this.region.currentView.$el.removeAttr(\"style\");\n            }\n            break;\n          case \"spinner\":\n            if (_this.region.currentView !== loadingView) {\n              return realView.close();\n            }\n        }\n        if (!config.debug) {\n          return _this.show(realView);\n        }\n      });\n    };\n\n    LoadingController.prototype.getEntities = function(view) {\n      return _.chain(view).pick(\"model\", \"collection\").toArray().compact().value();\n    };\n\n    LoadingController.prototype.getLoadingView = function() {\n      return new Loading.LoadingView;\n    };\n\n    return LoadingController;\n\n  })(App.Controllers.Base);\n  App.commands.setHandler(\"show:loading\", function(view, options) {\n    return new Loading.LoadingController({\n      view: view,\n      region: options.region,\n      config: options.loading\n    });\n  });\n  return Loading.LoadingView = (function(_super) {\n    __extends(LoadingView, _super);\n\n    function LoadingView() {\n      _ref1 = LoadingView.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    LoadingView.prototype.template = false;\n\n    LoadingView.prototype.className = \"loading-container small-1 small-centered columns\";\n\n    LoadingView.prototype.id = \"loadingView\";\n\n    LoadingView.prototype.onShow = function() {\n      var opts;\n      opts = this._getOptions();\n      this.spinner = new Spinner(opts);\n      this.spinner.spin();\n      return this.$el.append(this.spinner.el);\n    };\n\n    LoadingView.prototype.onClose = function() {\n      $(document).foundation();\n      return this.spinner.stop();\n    };\n\n    LoadingView.prototype._getOptions = function() {\n      return {\n        lines: 10,\n        length: 20,\n        width: 1,\n        radius: 7,\n        corners: 1,\n        rotate: 9,\n        direction: 1,\n        color: '#000',\n        speed: 1,\n        trail: 60,\n        shadow: false,\n        hwaccel: false,\n        className: 'spinner',\n        zIndex: 2e9\n      };\n    };\n\n    return LoadingView;\n\n  })(Marionette.ItemView);\n});\n","var App,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nmodule.exports = App.module(\"Controllers\", function(Controllers, App, Backbone, Marionette, $, _) {\n  return Controllers.Base = (function(_super) {\n    __extends(Base, _super);\n\n    function Base(options) {\n      if (options == null) {\n        options = {};\n      }\n      this.region = options.region || App.request(\"default:region\");\n      this._instance_id = _.uniqueId(\"controller\");\n      App.execute(\"register:instance\", this, this._instance_id);\n      Base.__super__.constructor.apply(this, arguments);\n    }\n\n    Base.prototype.close = function() {\n      App.execute(\"unregister:instance\", this, this._instance_id);\n      return Base.__super__.close.apply(this, arguments);\n    };\n\n    Base.prototype.show = function(view, options) {\n      if (options == null) {\n        options = {};\n      }\n      _.defaults(options, {\n        loading: false,\n        region: this.region\n      });\n      this._setMainView(view);\n      return this._manageView(view, options);\n    };\n\n    Base.prototype._setMainView = function(view) {\n      if (this._mainView) {\n        return;\n      }\n      this._mainView = view;\n      return this.listenTo(view, \"close\", this.close);\n    };\n\n    Base.prototype._manageView = function(view, options) {\n      if (options.loading) {\n        return App.execute(\"show:loading\", view, options);\n      } else {\n        return options.region.show(view);\n      }\n    };\n\n    return Base;\n\n  })(Marionette.Controller);\n});\n","var App, mode, potentialWeeks, potentialWeeksCount, tuesify,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\npotentialWeeksCount = function(date1, date2) {\n  var count;\n  date1 = moment(date1);\n  date2 = moment(date2);\n  if (_.isEqual(date1, date2)) {\n    return 1;\n  }\n  count = 0;\n  while (date1 <= date2) {\n    count++;\n    date1 = moment(date1.day(9));\n  }\n  return count;\n};\n\npotentialWeeks = function(date1, date2) {\n  var count, weeks;\n  date1 = moment(date1);\n  date2 = moment(date2);\n  if (_.isEqual(date1, date2)) {\n    return [date1.format(\"YYYY-MM-DD\")];\n  }\n  count = 0;\n  weeks = [];\n  while (date1 <= date2) {\n    weeks.push(date1.format(\"YYYY-MM-DD\"));\n    date1 = moment(date1.day(9));\n  }\n  return weeks;\n};\n\nmode = function(array) {\n  var el, i, maxCount, modeMap, modes;\n  if (array.length === 0) {\n    return null;\n  }\n  modeMap = {};\n  maxCount = 1;\n  modes = [array[0]];\n  i = 0;\n  while (i < array.length) {\n    el = array[i];\n    if (modeMap[el] == null) {\n      modeMap[el] = 1;\n    } else {\n      modeMap[el]++;\n    }\n    if (modeMap[el] > maxCount) {\n      modes = [el];\n      maxCount = modeMap[el];\n    } else if (modeMap[el] === maxCount) {\n      modes.push(el);\n      maxCount = modeMap[el];\n    }\n    i++;\n  }\n  return modes;\n};\n\nmodule.exports = App.module(\"Entities\", function(Entities, App, Backbone, Marionette, $, _) {\n  var API, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n  App.commands.setHandler(\"when:fetched\", function(entities, callback) {\n    var xhrs;\n    xhrs = _.chain([entities]).flatten().pluck(\"_fetch\").value();\n    return $.when.apply($, xhrs).done(function() {\n      $(\".accordion\").on(\"click\", \"dd:not(.active)\", function(event) {\n        return $(this).addClass(\"active\").find(\".content\").slideToggle(\"slow\");\n      });\n      return callback();\n    });\n  });\n  Entities.Header = (function(_super) {\n    __extends(Header, _super);\n\n    function Header() {\n      _ref = Header.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    return Header;\n\n  })(Backbone.Model);\n  Entities.HeaderCollection = (function(_super) {\n    __extends(HeaderCollection, _super);\n\n    function HeaderCollection() {\n      _ref1 = HeaderCollection.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    HeaderCollection.prototype.model = Entities.Header;\n\n    return HeaderCollection;\n\n  })(Backbone.Collection);\n  Entities.ChartItem = (function(_super) {\n    __extends(ChartItem, _super);\n\n    function ChartItem() {\n      _ref2 = ChartItem.__super__.constructor.apply(this, arguments);\n      return _ref2;\n    }\n\n    ChartItem.prototype.initialize = function() {\n      var obj, theCount, _fn, _i, _len, _ref3;\n      theCount = 0;\n      this.set(\"rank\", this.get(\"currentPos\"));\n      _ref3 = this.get(\"appearances\");\n      _fn = function(obj) {\n        var points;\n        points = 0;\n        points = 31 - (parseInt(obj.position));\n        return theCount += points;\n      };\n      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n        obj = _ref3[_i];\n        _fn(obj);\n      }\n      return this.set(\"frontPoints\", theCount);\n    };\n\n    return ChartItem;\n\n  })(Backbone.Model);\n  Entities.ChartCollection = (function(_super) {\n    __extends(ChartCollection, _super);\n\n    function ChartCollection() {\n      _ref3 = ChartCollection.__super__.constructor.apply(this, arguments);\n      return _ref3;\n    }\n\n    ChartCollection.prototype.model = Entities.ChartItem;\n\n    ChartCollection.prototype.sortAttr = \"points\";\n\n    ChartCollection.prototype.sortDir = -1;\n\n    ChartCollection.prototype.sortCharts = function(attr) {\n      this.sortAttr = attr;\n      this.sort();\n      return this.trigger(\"reset\");\n    };\n\n    ChartCollection.prototype.comparator = function(a, b) {\n      a = a.get(this.sortAttr);\n      b = b.get(this.sortAttr);\n      if (a === b) {\n        return 0;\n      }\n      if (this.sortDir === 1) {\n        if (a > b) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else {\n        if (a > b) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    };\n\n    return ChartCollection;\n\n  })(Backbone.Collection);\n  Entities.Album = (function(_super) {\n    __extends(Album, _super);\n\n    function Album() {\n      _ref4 = Album.__super__.constructor.apply(this, arguments);\n      return _ref4;\n    }\n\n    Album.prototype.initialize = function() {\n      return this.getAppearances();\n    };\n\n    Album.prototype.getAppearances = function() {\n      var appearances;\n      appearances = this.get(\"appearances\");\n      return this.set(\"appearancesCollection\", new Entities.Appearances(appearances));\n    };\n\n    return Album;\n\n  })(Backbone.Model);\n  Entities.ArtistCollection = (function(_super) {\n    __extends(ArtistCollection, _super);\n\n    function ArtistCollection() {\n      _ref5 = ArtistCollection.__super__.constructor.apply(this, arguments);\n      return _ref5;\n    }\n\n    ArtistCollection.prototype.model = Entities.Album;\n\n    ArtistCollection.prototype.filterFacets = [\"album\", \"label\", \"slug\"];\n\n    ArtistCollection.prototype.countPoints = function() {\n      var appearance, model, _fn, _fn1, _i, _j, _k, _len, _len1, _len2, _ref6, _ref7, _ref8, _results,\n        _this = this;\n      this.popAlbum = '';\n      this.popAlbumNumber = 0;\n      this.totalChartScore = 0;\n      this.totalAppearances = 0;\n      this.stations = [];\n      this.popStation = '';\n      _ref6 = this.models;\n      _fn = function(model) {};\n      for (_i = 0, _len = _ref6.length; _i < _len; _i++) {\n        model = _ref6[_i];\n        _fn(model);\n        this.totalChartScore += model.get(\"totalPoints\");\n        this.totalAppearances += model.attributes.appearances.length;\n        if (model.attributes.appearances.length > this.popAlbumNumber) {\n          this.popAlbum = model.get(\"album\");\n          this.popAlbumNumber = model.attributes.appearances.length;\n        }\n        _ref7 = model.attributes.appearances;\n        _fn1 = function(appearance) {\n          return _this.stations.push(appearance.station.toUpperCase());\n        };\n        for (_j = 0, _len1 = _ref7.length; _j < _len1; _j++) {\n          appearance = _ref7[_j];\n          _fn1(appearance);\n        }\n        this.popStation = mode(this.stations);\n      }\n      _ref8 = this.models;\n      _results = [];\n      for (_k = 0, _len2 = _ref8.length; _k < _len2; _k++) {\n        model = _ref8[_k];\n        _results.push((function(model) {\n          model.set(\"totalChartScore\", _this.totalChartScore);\n          model.set(\"totalAppearances\", _this.totalAppearances);\n          model.set(\"popAlbum\", _this.popAlbum);\n          return model.set(\"popStation\", _this.popStation);\n        })(model));\n      }\n      return _results;\n    };\n\n    return ArtistCollection;\n\n  })(Backbone.FacetedSearchCollection);\n  Entities.Appearance = (function(_super) {\n    __extends(Appearance, _super);\n\n    function Appearance() {\n      _ref6 = Appearance.__super__.constructor.apply(this, arguments);\n      return _ref6;\n    }\n\n    return Appearance;\n\n  })(Backbone.Model);\n  Entities.Appearances = (function(_super) {\n    __extends(Appearances, _super);\n\n    function Appearances() {\n      _ref7 = Appearances.__super__.constructor.apply(this, arguments);\n      return _ref7;\n    }\n\n    Appearances.prototype.model = Entities.Appearance;\n\n    Appearances.prototype.filterFacets = [\"station\", 'position', 'week'];\n\n    Appearances.prototype.sortAttr = \"week\";\n\n    Appearances.prototype.sortDir = -1;\n\n    Appearances.prototype.sortCharts = function(attr) {\n      this.sortAttr = attr;\n      this.sort();\n      return this.trigger(\"reset\");\n    };\n\n    Appearances.prototype.comparator = function(a, b) {\n      if (this.sortAttr === 'position') {\n        a = +a.get(this.sortAttr);\n        b = +b.get(this.sortAttr);\n      } else {\n        a = a.get(this.sortAttr);\n        b = b.get(this.sortAttr);\n      }\n      if (a === b) {\n        return 0;\n      }\n      if (this.sortDir === 1) {\n        if (a > b) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else {\n        if (a > b) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    };\n\n    return Appearances;\n\n  })(Backbone.FacetedSearchCollection);\n  Entities.StationItem = (function(_super) {\n    __extends(StationItem, _super);\n\n    function StationItem() {\n      _ref8 = StationItem.__super__.constructor.apply(this, arguments);\n      return _ref8;\n    }\n\n    return StationItem;\n\n  })(Backbone.Model);\n  Entities.SingleStation = (function(_super) {\n    __extends(SingleStation, _super);\n\n    function SingleStation() {\n      _ref9 = SingleStation.__super__.constructor.apply(this, arguments);\n      return _ref9;\n    }\n\n    SingleStation.prototype.model = Entities.StationItem;\n\n    return SingleStation;\n\n  })(Backbone.Collection);\n  Entities.DateItem = (function(_super) {\n    __extends(DateItem, _super);\n\n    function DateItem() {\n      _ref10 = DateItem.__super__.constructor.apply(this, arguments);\n      return _ref10;\n    }\n\n    return DateItem;\n\n  })(Backbone.Model);\n  Entities.SingleDate = (function(_super) {\n    __extends(SingleDate, _super);\n\n    function SingleDate() {\n      _ref11 = SingleDate.__super__.constructor.apply(this, arguments);\n      return _ref11;\n    }\n\n    SingleDate.prototype.model = Entities.DateItem;\n\n    return SingleDate;\n\n  })(Backbone.Collection);\n  Entities.Station = (function(_super) {\n    __extends(Station, _super);\n\n    function Station() {\n      _ref12 = Station.__super__.constructor.apply(this, arguments);\n      return _ref12;\n    }\n\n    return Station;\n\n  })(Backbone.Model);\n  Entities.Stations = (function(_super) {\n    __extends(Stations, _super);\n\n    function Stations() {\n      _ref13 = Stations.__super__.constructor.apply(this, arguments);\n      return _ref13;\n    }\n\n    Stations.prototype.model = Entities.Station;\n\n    Stations.prototype.filterFacets = ['name', 'province', 'city'];\n\n    Stations.prototype.sortAttr = \"postalCode\";\n\n    Stations.prototype.sortDir = -1;\n\n    Stations.prototype.sortCharts = function(attr) {\n      this.sortAttr = attr;\n      this.sort();\n      return this.trigger(\"reset\");\n    };\n\n    Stations.prototype.comparator = function(a, b) {\n      if (this.sortAttr === 'position') {\n        a = +a.get(this.sortAttr);\n        b = +b.get(this.sortAttr);\n      } else {\n        a = a.get(this.sortAttr);\n        b = b.get(this.sortAttr);\n      }\n      if (a === b) {\n        return 0;\n      }\n      if (this.sortDir === 1) {\n        if (a > b) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else {\n        if (a > b) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    };\n\n    return Stations;\n\n  })(Backbone.FacetedSearchCollection);\n  Entities.Label = (function(_super) {\n    __extends(Label, _super);\n\n    function Label() {\n      _ref14 = Label.__super__.constructor.apply(this, arguments);\n      return _ref14;\n    }\n\n    return Label;\n\n  })(Backbone.Model);\n  Entities.LabelCollection = (function(_super) {\n    __extends(LabelCollection, _super);\n\n    function LabelCollection() {\n      _ref15 = LabelCollection.__super__.constructor.apply(this, arguments);\n      return _ref15;\n    }\n\n    LabelCollection.prototype.model = Entities.Label;\n\n    LabelCollection.prototype.filterFacets = [\"album\", \"artist\", \"appearances\"];\n\n    return LabelCollection;\n\n  })(Backbone.FacetedSearchCollection);\n  Entities.Topx = (function(_super) {\n    __extends(Topx, _super);\n\n    function Topx() {\n      _ref16 = Topx.__super__.constructor.apply(this, arguments);\n      return _ref16;\n    }\n\n    Topx.prototype.initialize = function() {\n      return this.set({\n        info: this.collection.info,\n        startDate: this.collection.startDate,\n        endDate: this.collection.endDate,\n        potential: this.collection.potential,\n        percentage: parseInt(this.collection.weeks.length / this.collection.potential * 1000)\n      });\n    };\n\n    return Topx;\n\n  })(Backbone.Model);\n  Entities.TopxCollection = (function(_super) {\n    __extends(TopxCollection, _super);\n\n    function TopxCollection() {\n      _ref17 = TopxCollection.__super__.constructor.apply(this, arguments);\n      return _ref17;\n    }\n\n    TopxCollection.prototype.model = Entities.Topx;\n\n    TopxCollection.prototype.filterFacets = [\"album\", \"artist\", \"firstWeek\"];\n\n    TopxCollection.prototype.parse = function(response) {\n      var item, stations, totalAlbums, weeks, _fn, _fn1, _fn2, _i, _j, _k, _len, _len1, _len2,\n        _this = this;\n      weeks = [];\n      stations = [];\n      response = response.filter(function(v, i, a) {\n        if (v._id.isNull === false && v._id.artist !== '') {\n          return v;\n        }\n      });\n      totalAlbums = response.length;\n      _fn = function(item) {\n        var obj, theCount, _fn1, _j, _len1, _ref18;\n        item.artist = item._id.artist;\n        item.album = item._id.album;\n        item.label = item._id.label;\n        item.slug = item._id.slug;\n        item.isNull = item._id.isNull;\n        item.firstWeek = item._id.firstWeek;\n        theCount = 0;\n        item.stations = [];\n        _ref18 = item.appearances;\n        _fn1 = function(obj) {\n          var points;\n          points = 0;\n          points = 31 - (parseInt(obj.position));\n          theCount += points;\n          weeks.push(obj.week);\n          stations.push(obj.station);\n          return item.stations.push(obj.station);\n        };\n        for (_j = 0, _len1 = _ref18.length; _j < _len1; _j++) {\n          obj = _ref18[_j];\n          _fn1(obj);\n        }\n        item.stations = _.uniq(item.stations);\n        item.frontPoints = theCount;\n        return item.totalAlbums = totalAlbums;\n      };\n      for (_i = 0, _len = response.length; _i < _len; _i++) {\n        item = response[_i];\n        _fn(item);\n      }\n      weeks.sort();\n      this.weeks = _.uniq(weeks, true);\n      this.stations = _.uniq(stations);\n      _fn1 = function(item) {\n        item.totalWeeks = _this.weeks;\n        return item.totalStations = _this.stations.length;\n      };\n      for (_j = 0, _len1 = response.length; _j < _len1; _j++) {\n        item = response[_j];\n        _fn1(item);\n      }\n      response = response.sort(function(a, b) {\n        a = +a.frontPoints;\n        b = +b.frontPoints;\n        if (a === b) {\n          return 0;\n        }\n        if (a > b) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n      _fn2 = function(item) {\n        return item.rank = response.indexOf(item) + 1;\n      };\n      for (_k = 0, _len2 = response.length; _k < _len2; _k++) {\n        item = response[_k];\n        _fn2(item);\n      }\n      return response;\n    };\n\n    TopxCollection.prototype.sortAttr = \"rank\";\n\n    TopxCollection.prototype.sortDir = 1;\n\n    TopxCollection.prototype.sortCharts = function(attr) {\n      this.sortAttr = attr;\n      this.sort();\n      return this.trigger(\"reset\");\n    };\n\n    TopxCollection.prototype.comparator = function(a, b) {\n      a = a.get(this.sortAttr);\n      b = b.get(this.sortAttr);\n      if (a === b) {\n        return 0;\n      }\n      if (this.sortDir === 1) {\n        if (a > b) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else {\n        if (a > b) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    };\n\n    return TopxCollection;\n\n  })(Backbone.FacetedSearchCollection);\n  API = {\n    getTopx: function(search) {\n      var d, desc, endDate, number, searchUrl, startDate, station, today, topxCollection, week;\n      d = moment();\n      number = 30;\n      if (search.number) {\n        number = search.number;\n      }\n      topxCollection = new Entities.TopxCollection;\n      topxCollection.number = number;\n      if (search.station) {\n        station = search.station.toUpperCase();\n      }\n      if (station) {\n        topxCollection.info = App.request(\"stations:entities\", station);\n      }\n      topxCollection.station = station;\n      today = \"\" + (d.format(\"YYYY-MM-DD\"));\n      startDate = today;\n      if (search.startDate) {\n        startDate = search.startDate;\n      }\n      endDate = today;\n      if (search.endDate) {\n        endDate = search.endDate;\n      }\n      startDate = tuesify(startDate);\n      endDate = tuesify(endDate);\n      topxCollection.startDate = startDate;\n      topxCollection.endDate = endDate;\n      topxCollection.potentialA = potentialWeeks(startDate, endDate);\n      topxCollection.potential = potentialWeeksCount(startDate, endDate);\n      if (station && startDate && endDate) {\n        searchUrl = \"/api/top/\" + station + \"/\" + startDate + \"/\" + endDate;\n        if (startDate === endDate) {\n          desc = \"\" + station + \" Top 30 for the week of \" + startDate;\n          week = startDate;\n        } else {\n          desc = \"Top Albums on \" + station + \" between \" + startDate + \" and \" + endDate;\n        }\n      } else {\n        searchUrl = \"/api/topall/\" + startDate + \"/\" + endDate;\n        if (startDate === endDate) {\n          desc = \"For the week of \" + startDate;\n          week = startDate;\n        } else {\n          desc = \"For the \" + topxCollection.potential + \" weeks between \" + startDate + \" and \" + endDate;\n        }\n      }\n      topxCollection.desc = desc;\n      if (week) {\n        topxCollection.week = week;\n      }\n      topxCollection.url = searchUrl;\n      topxCollection.fetch({\n        reset: true\n      });\n      return topxCollection;\n    },\n    getLabel: function(label) {\n      var labelCollection;\n      labelCollection = new Entities.LabelCollection;\n      label = encodeURIComponent(label);\n      labelCollection.url = \"/api/label/\" + label;\n      labelCollection.fetch({\n        reset: true\n      });\n      return labelCollection;\n    },\n    getDate: function(date) {\n      var theDate;\n      theDate = new Entities.SingleDate;\n      theDate.url = \"/api/date/\" + date;\n      theDate.fetch({\n        reset: true\n      });\n      return theDate;\n    },\n    getStation: function(station) {\n      var theStation;\n      theStation = new Entities.SingleStation;\n      theStation.url = \"/api/db/\" + station;\n      theStation.fetch({\n        reset: true\n      });\n      return theStation;\n    },\n    getArtist: function(artist) {\n      var artists;\n      artists = new Entities.ArtistCollection;\n      if (artist) {\n        artists.artist = artist;\n      }\n      if (artist) {\n        artist = encodeURIComponent(artist);\n      }\n      artists.url = \"/api/artists/\" + (artist ? artist : '');\n      artists.fetch({\n        reset: true\n      });\n      return artists;\n    },\n    getHeaders: function() {\n      return new Entities.HeaderCollection([\n        {\n          name: \"Home\",\n          path: 'home',\n          icon: 'fi-home'\n        }, {\n          name: \"Stations\",\n          path: 'station',\n          icon: 'fi-results'\n        }, {\n          name: \"Artists\",\n          path: 'artist',\n          icon: \"fi-results-demographics\"\n        }, {\n          name: \"FAQ\",\n          path: 'faq',\n          icon: 'fi-info'\n        }, {\n          name: \"Twitter\",\n          path: 'http://twitter.com/chartzapp',\n          icon: 'fi-social-twitter'\n        }\n      ]);\n    },\n    getCharts: function(station, date) {\n      var charts, chartsUrl, desc;\n      if (station == null) {\n        station = null;\n      }\n      if (date == null) {\n        date = null;\n      }\n      if (date) {\n        date = tuesify(date);\n      }\n      if (station === null && date === null) {\n        chartsUrl = '/api/db/wholething';\n        desc = \"Full Database\";\n      } else if (date === null && station !== null) {\n        chartsUrl = '/api/chart/' + station;\n        desc = \"Most recent \" + station + \" chart\";\n      } else {\n        chartsUrl = '/api/chart/' + station + '/' + date;\n        desc = \"\" + station + \" Top 30 for the week of \" + date;\n      }\n      charts = new Entities.ChartCollection;\n      charts.desc = desc;\n      charts.url = chartsUrl;\n      charts.fetch({\n        reset: true\n      });\n      return charts;\n    },\n    getStations: function(station) {\n      var stations;\n      stations = new Entities.Stations;\n      if (station) {\n        stations.url = \"api/stations/data/\" + station;\n      } else {\n        stations.url = \"api/stations/data/\";\n      }\n      stations.fetch({\n        reset: true\n      });\n      return stations;\n    }\n  };\n  App.reqres.setHandler(\"header:entities\", function() {\n    return API.getHeaders();\n  });\n  App.reqres.setHandler(\"artist:entities\", function(artist) {\n    return API.getArtist(artist);\n  });\n  App.reqres.setHandler('chart:entities', function(station, date) {\n    return API.getCharts(station, date);\n  });\n  App.reqres.setHandler('stations:entities', function(station) {\n    return API.getStations(station);\n  });\n  App.reqres.setHandler('station:entities', function(station) {\n    return API.getStation(station);\n  });\n  App.reqres.setHandler('date:entities', function(date) {\n    return API.getDate(date);\n  });\n  App.reqres.setHandler('label:entities', function(label) {\n    return API.getLabel(label);\n  });\n  return App.reqres.setHandler('topx:entities', function(search) {\n    return API.getTopx(search);\n  });\n});\n","this.App = require('application');\n\n$(function() {\n  return App.initialize();\n});\n","module.exports = ['CAPR', 'CFBU', 'CFBX', 'CFCR', 'CFMH', 'CFMU', 'CFOU', 'CFRC', 'CFRE', 'CFRO', 'CFRU', 'CFUR', 'CFUV', 'CFXU', 'CHLY', 'CHMA', 'CHMR', 'CHOQ', 'CHRW', 'CHRY', 'CHSR', 'CHUO', 'CHYZ', 'CICK', 'CILU', 'CIOI', 'CISM', 'CITR', 'CIUT', 'CIVL', 'CJAM', 'CJLO', 'CJLY', 'CJMQ', 'CJSF', 'CJSR', 'CJSW', 'CJUM', 'CKCU', 'CKDU', 'CKLU', 'CKMS', 'CKUA', 'CKUT', 'CKUW', 'CKXU', 'CSCR', 'RADL', 'SCOP'];\n","Handlebars.registerHelper('pick', function(val, options) {\n  return options.hash[val];\n});\n\nHandlebars.registerHelper('toUpper', function(str) {\n  if (str) {\n    return str.toUpperCase();\n  }\n});\n\nHandlebars.registerHelper('json', function(context) {\n  return JSON.stringify(context);\n});\n\nHandlebars.registerHelper('each_with_sort', function(array, key, opts) {\n  var e, s, _i, _len;\n  array = array.sort(function(a, b) {\n    a = parseInt(a[key]);\n    b = parseInt(b[key]);\n    if (a > b) {\n      return 1;\n    }\n    if (a === b) {\n      return 0;\n    }\n    if (a < b) {\n      return -1;\n    }\n  });\n  s = '';\n  for (_i = 0, _len = array.length; _i < _len; _i++) {\n    e = array[_i];\n    s += opts.fn(e);\n  }\n  return s;\n});\n\nHandlebars.registerHelper('each_sort_date', function(array, key, opts) {\n  var e, s, _i, _len;\n  array = array.sort(function(a, b) {\n    a = new Date(a[key]);\n    b = new Date(b[key]);\n    if (a > b) {\n      return 1;\n    }\n    if (a === b) {\n      return 0;\n    }\n    if (a < b) {\n      return -1;\n    }\n  });\n  s = '';\n  for (_i = 0, _len = array.length; _i < _len; _i++) {\n    e = array[_i];\n    s += opts.fn(e);\n  }\n  return s;\n});\n\nHandlebars.registerHelper('log', function(object) {\n  return console.log(object);\n});\n\nHandlebars.registerHelper('countPoints', function(array) {\n  var obj, theCount, _fn, _i, _len;\n  theCount = 0;\n  _fn = function(obj) {\n    var points;\n    points = 0;\n    points = 31 - (parseInt(obj.position));\n    return theCount += points;\n  };\n  for (_i = 0, _len = array.length; _i < _len; _i++) {\n    obj = array[_i];\n    _fn(obj);\n  }\n  return theCount;\n});\n","var App,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nmodule.exports = App.module('AboutApp', function(AboutApp, App, Backbone, Marionette, $, _) {\n  var API, _ref;\n  AboutApp.Router = (function(_super) {\n    __extends(Router, _super);\n\n    function Router() {\n      _ref = Router.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Router.prototype.appRoutes = {\n      \"faq\": \"about\"\n    };\n\n    return Router;\n\n  })(Marionette.AppRouter);\n  AboutApp.startWithParent = false;\n  AboutApp.Show = require('modules/about/showAbout/showAbout_controller');\n  API = {\n    about: function() {\n      new AboutApp.Show.Controller({\n        region: App.mainRegion\n      });\n      return $(document).foundation();\n    }\n  };\n  return App.addInitializer(function() {\n    return new AboutApp.Router({\n      controller: API\n    });\n  });\n});\n","var App, Controllers,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require(\"application\");\n\nControllers = require(\"controllers/baseController\");\n\nmodule.exports = App.module('AboutApp.Show', function(Show, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1;\n  Show.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      _ref = Controller.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Controller.prototype.initialize = function(opts) {\n      this.layout = this.getLayoutView();\n      this.show(this.layout, {\n        loading: true\n      });\n      return $(document).foundation();\n    };\n\n    Controller.prototype.getLayoutView = function() {\n      return new Show.Layout;\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n  return Show.Layout = (function(_super) {\n    __extends(Layout, _super);\n\n    function Layout() {\n      _ref1 = Layout.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Layout.prototype.template = \"modules/about/showAbout/templates/show_layout\";\n\n    Layout.prototype.id = \"about-page\";\n\n    return Layout;\n\n  })(Marionette.Layout);\n});\n","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class='title-row'>\\n  <div class=\\\"row\\\">\\n  <div id=\\\"title_region\\\" class=\\\"small-12 columns\\\">\\n      <h1 class=\\\"main-title\\\">FAQ</h1>\\n    </div>\\n  </div>\\n</div>\\n<div class='panel-row'>\\n  <div class=\\\"row\\\">\\n    <div id=\\\"blurb_region\\\" class=\\\"small-9 columns\\\">\\n      <h1>What?</h1>\\n      <p class=\\\"lead\\\">This is <strong>ChartZapp</strong>, a new way of analyzing Canadian Campus-Community Radio Charts.</p>\\n      <p>It uses modern web technologies to explore and visualize the treasure-trove of data collected and compiled by the excellent folks at\\n      <a href=\\\"http://www.earshot-online.com/\\\" target=\\\"blank\\\">!Earshot Online</a>, and published by the <a href=\\\"http://www.ncra.ca/\\\" target=\\\"blank\\\">the NCRA.</a></p>\\n    </div>\\n    <div class=\\\"small-3 columns text-right\\\" id=\\\"faqicon\\\">\\n      <i class=\\\"fi-lightbulb\\\"></i>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class='graph-row'>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-3 columns \\\" id=\\\"faqicon\\\">\\n      <i class=\\\"fi-torsos\\\"></i>\\n    </div>\\n    <div id=\\\"blurb_region\\\" class=\\\"small-9 columns text-right\\\">\\n      <h1>Who?</h1>\\n      <p class=\\\"lead\\\">Chartzapp was built for <strong>Stations, Artists, Labels, </strong>and <strong>Media.</strong></p>\\n      <p>It makes information about Campus-Community Radio Charts more\\n        accessible and visually stimulating, with the aim of providing some\\n        newfangled, nerdy data analysis to the Canadian independent music community.\\n      <p>It was developed independently by <a href=\\\"http://dorianlistens.com\\\" target=\\\"blank\\\">Dorian Scheidt,</a>\\n         a Campus Community Radio Nerd (among other things) living in MontrÃ©al, QC, and now has the support of !earshot and the NCRA.</p>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<div class='panel-row'>\\n  <div class=\\\"row\\\">\\n    <div id=\\\"blurb_region\\\" class=\\\"small-9 columns\\\">\\n      <h1>Why?</h1>\\n      <p class=\\\"lead\\\"><strong>Charts</strong> and <strong>Graphs</strong> were\\n        simply made for each other, don't you agree?</p>\\n      <p>More Reasons:</p>\\n      <ul>\\n        <li>Campus-Community Radio is Great!</li>\\n        <li>Data Analysis and Visualization are Cool!</li>\\n        <li>Learning new things is Fun!</li>\\n      </ul>\\n      </div>\\n    <div class=\\\"small-3 columns text-right\\\" id=\\\"faqicon\\\">\\n      <i class=\\\"fi-graph-trend\\\"></i>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class='graph-row'>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-3 columns \\\" id=\\\"faqicon\\\">\\n      <i class=\\\"fi-wrench\\\"></i>\\n    </div>\\n    <div id=\\\"blurb_region\\\" class=\\\"small-9 columns text-right\\\">\\n      <h1>How?</h1>\\n      <p class=\\\"lead\\\">Chartzapp is a <strong>Single Page Application</strong> built using\\n        open source tools.<p>\\n      <p>It relies entirely on the chart data collected, edited and compiled by <a href=\\\"http://www.earshot-online.com/\\\" target=\\\"blank\\\">!earshot.</a></p>\\n      <p>It is written almost entirely in\\n        <a href=\\\"http://coffeescript.org/\\\" target=\\\"blank\\\">Coffeescript</a>\\n        on both the front and\\n        back-end. It uses <a href=\\\"http://nodejs.org/\\\" target=\\\"blank\\\">Node.js</a>\\n        to run a server and webcrawler, which stores data in a\\n        <a href=\\\"http://www.mongodb.org/\\\" target=\\\"blank\\\">MongoDB</a> database,\\n        and then compares, analyzes and displays things with\\n        <a href=\\\"http://backbonejs.org\\\" target=\\\"blank\\\">Backbone</a>,\\n        <a href=\\\"http://marionettejs.com/\\\" target=\\\"blank\\\">Marionette</a>,\\n        and <a href=\\\"http://d3js.org/\\\" target=\\\"blank\\\">D3</a>.\\n        It's styled using the excellent\\n        <a href=\\\"http://foundation.zurb.com/\\\" target=\\\"blank\\\">Foundation</a>\\n        responsive framework.</p>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\\n<div class='panel-row'>\\n  <div class=\\\"row\\\">\\n    <div id=\\\"blurb_region\\\" class=\\\"small-9 columns\\\">\\n      <h1>When?</h1>\\n      <p class=\\\"lead\\\"><strong>Now</strong>, and hopefully, <strong>Forever!</strong></p>\\n      <p>The database currently extends from December 31st, 2013 to the Present</p>\\n      <ul>\\n        <li>Beta Release: <strong>June 10th, 2014</strong></li>\\n        <li>Alpha Deploy: <strong>March 21st, 2014</strong></li>\\n        <li>First Keystrokes: <strong>3:39 PM (EDT)</strong> on <strong>March 15th, 2014</strong></li>\\n      </ul>\\n    </div>\\n    <div class=\\\"small-3 columns text-right\\\" id=\\\"faqicon\\\">\\n      <i class=\\\"fi-calendar\\\"></i>\\n    </div>\\n  </div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var App,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nmodule.exports = App.module('ArtistsApp', function(ArtistsApp, App, Backbone, Marionette, $, _) {\n  var API, _ref;\n  ArtistsApp.Router = (function(_super) {\n    __extends(Router, _super);\n\n    function Router() {\n      _ref = Router.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Router.prototype.appRoutes = {\n      \"artist(/)(:artist)\": \"showArtists\"\n    };\n\n    return Router;\n\n  })(Marionette.AppRouter);\n  ArtistsApp.startWithParent = false;\n  ArtistsApp.Show = require('modules/artists/show/show_controller');\n  API = {\n    showArtists: function(artist) {\n      new ArtistsApp.Show.Controller({\n        region: App.mainRegion,\n        artist: artist ? artist : void 0\n      });\n      return $(document).foundation();\n    }\n  };\n  return App.addInitializer(function() {\n    return new ArtistsApp.Router({\n      controller: API\n    });\n  });\n});\n","var App;\n\nApp = require(\"application\");\n\nmodule.exports = function(el, collection, graph, view, info) {\n  var click, color, draw, height, hideData, highlight, highlightCircle, highlightLegend, margin, mouseout, mouseoutCircle, mouseoutLegend, parse, parseDate, parseWeeks, resize, showData, showTips, svg, width, x, xAxis, y, yAxis;\n  margin = {\n    top: 20,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  width = $(\"#graph-region\").width() - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  parseDate = d3.time.format(\"%Y-%m-%d\").parse;\n  x = d3.time.scale().range([0, width - 140]);\n  y = d3.scale.linear().range([0, height]);\n  color = require('colorList');\n  xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n  yAxis = d3.svg.axis().scale(y).orient(\"left\");\n  svg = d3.select(el).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  resize = function() {\n    width = $(\"#graph-region\").width() - margin.left - margin.right;\n    x.range([0, width]);\n    d3.select('svg').remove();\n    svg = d3.select(el).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    return draw(graph);\n  };\n  $(window).on(\"resize\", resize);\n  click = function(d) {\n    var station;\n    station = d._id;\n    return view.trigger(\"click:station:item\", station);\n  };\n  highlight = function(d, i) {\n    d3.selectAll(\"g path, circle\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(this).transition().duration(100).style(\"stroke-width\", \"10px\").style(\"opactiy\", 1);\n    d3.selectAll(\"g .\" + d._id + \" circle\").transition().duration(100).attr(\"r\", \"10\").style(\"opacity\", 1).forEach(function(d) {\n      return d.forEach(function(c, i) {\n        return showTips(d, c, i);\n      });\n    });\n    return d3.select(\".\" + d._id + \" text\").transition().duration(100).style(\"font-weight\", \"bold\");\n  };\n  mouseout = function(d, i) {\n    d3.selectAll(\"g path, circle\").transition().duration(100).style(\"opacity\", 1).attr(\"r\", 5);\n    d3.select(this).transition().duration(100).style(\"stroke-width\", \"1.5px\");\n    d3.select(\".\" + d._id + \" text\").transition().duration(100).style(\"font-weight\", \"normal\");\n    return hideData();\n  };\n  highlightCircle = function(d) {\n    showData(this, d);\n    d3.select(this).transition().duration(100).attr(\"r\", \"10\");\n    return d3.select(\".\" + d._id + \" text\").transition().duration(100).style(\"font-weight\", \"bold\");\n  };\n  mouseoutCircle = function(d) {\n    hideData(this);\n    d3.select(this).transition().duration(100).attr(\"r\", \"5\");\n    return d3.select(\".\" + d._id + \" text\").transition().duration(100).style(\"font-weight\", \"normal\");\n  };\n  highlightLegend = function(d, i) {\n    d3.select(this).transition().duration(100).style(\"font-weight\", \"bold\");\n    d3.selectAll(\"g path, circle\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.selectAll(\"g .\" + d._id + \" path\").transition().duration(100).style(\"stroke-width\", \"10px\").style(\"opacity\", 1);\n    d3.selectAll(\"g .\" + d._id + \" circle\").transition().duration(100).attr(\"r\", \"10\").style(\"opacity\", 1);\n    return d3.selectAll(\".\" + d._id + \" circle\").forEach(function(d) {\n      return d.forEach(function(c, i) {\n        return showTips(d, c, i);\n      });\n    });\n  };\n  showTips = function(d, c, i) {\n    var chartTip, coord, coord1, coord2;\n    coord1 = parseInt(c.cx.animVal.value);\n    coord2 = parseInt(c.cy.animVal.value);\n    coord = [coord1, coord2];\n    $(\"#graph\").append(\"<div class='tip' id='\" + d[i].__data__._id + \"-\" + i + \"'></div>\");\n    chartTip = $(\"#\" + d[i].__data__._id + \"-\" + i);\n    if (i % 2) {\n      chartTip.css(\"top\", (coord[1] + 50) + \"px\");\n    } else {\n      chartTip.css(\"top\", (coord[1] - 50) + \"px\");\n    }\n    chartTip.css(\"left\", (coord[0] + 50) + \"px\").css(\"background\", color(d[i].__data__._id));\n    $(\"#\" + d[i].__data__._id + \"-\" + i).html(\"\" + (d[i].__data__._id.toUpperCase()) + \"<br />\\n# \" + d[i].__data__.position + \" <br />\\n\" + d[i].__data__.week);\n    return $(\"#\" + d[i].__data__._id + \"-\" + i).fadeIn(100);\n  };\n  mouseoutLegend = function(d, i) {\n    d3.select(this).transition().duration(100).style(\"font-weight\", \"normal\");\n    d3.selectAll(\"g path, circle\").transition().duration(100).style(\"opacity\", 1).style(\"stroke-width\", \"1.5px\").attr(\"r\", 5);\n    d3.selectAll(\"g .\" + d._id + \" circle\").transition().duration(100).attr(\"r\", 5);\n    return hideData();\n  };\n  showData = function(dot, d) {\n    var chartTip, coord;\n    coord = d3.mouse(dot);\n    $(\"#graph\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"left\", (coord[0] + 15) + \"px\").style(\"top\", (coord[1] - 50) + \"px\").style(\"background\", color(d._id));\n    $(\".tip\").html(\"Station: \" + (d._id.toUpperCase()) + \"<br />\\nPosition: \" + d.position + \" <br />\\nWeek: \" + d.week);\n    return $(\".tip\").fadeIn(100);\n  };\n  hideData = function() {\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  parse = function(collection) {\n    var names, output, stations;\n    output = [];\n    stations = {};\n    _.each(collection.models, function(model) {\n      var appearances;\n      appearances = model.get(\"appearancesCollection\");\n      return _.each(appearances.models, function(ap, i) {\n        if (stations[ap.attributes.station]) {\n          return stations[ap.attributes.station].appearances.push({\n            position: ap.attributes.position,\n            week: ap.attributes.week,\n            score: 31 - ap.attributes.position\n          });\n        } else {\n          return stations[ap.attributes.station] = {\n            appearances: [\n              {\n                position: ap.attributes.position,\n                week: ap.attributes.week,\n                score: 31 - ap.attributes.position\n              }\n            ]\n          };\n        }\n      });\n    });\n    names = Object.keys(stations);\n    _.each(names, function(name) {\n      return output.push({\n        _id: name,\n        appearances: stations[name].appearances\n      });\n    });\n    return output.sort(function(a, b) {\n      var stationA, stationB;\n      stationA = info.findWhere({\n        name: a._id.toUpperCase()\n      });\n      stationB = info.findWhere({\n        name: b._id.toUpperCase()\n      });\n      a = stationA.get(\"postalCode\");\n      b = stationB.get(\"postalCode\");\n      if (a === b) {\n        return 0;\n      }\n      if (a > b) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n  };\n  parseWeeks = function(collection) {\n    var names, output, weeks;\n    output = [];\n    weeks = {};\n    _.each(collection.models, function(model) {\n      var appearances;\n      appearances = model.get(\"appearancesCollection\");\n      return _.each(appearances.models, function(ap, i) {\n        if (weeks[ap.attributes.week]) {\n          return weeks[ap.attributes.week].appearances.push({\n            station: ap.attributes.station,\n            position: ap.attributes.position\n          });\n        } else {\n          return weeks[ap.attributes.week] = {\n            appearances: [\n              {\n                station: ap.attributes.station,\n                position: ap.attributes.position\n              }\n            ]\n          };\n        }\n      });\n    });\n    names = Object.keys(weeks);\n    _.each(names, function(name) {\n      return output.push({\n        week: name,\n        appearances: weeks[name].appearances\n      });\n    });\n    return output;\n  };\n  draw = function(graph) {\n    var area, barWidth, circle, hideInfo, infostring, legend, line, mouseover, pArray, pByW, showInfo, stack, station, stations, week, weeks, y2, y2Axis;\n    stations = parse(collection);\n    showInfo = function() {\n      if ($(el).find(\".info\").length !== 0) {\n        return $(\".info\").remove();\n      } else {\n        return $(el).append(\"<div class='tip text-center info'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 3 + \"px\").html(infostring).on(\"click\", hideInfo).fadeIn(100);\n      }\n    };\n    hideInfo = function() {\n      $(el).find(\".info\").fadeOut(100);\n      return $(\".info\").remove();\n    };\n    if ($(el).find(\".infobox\").length !== 0) {\n      $(\".infobox\").remove();\n    }\n    $(el).prepend(\"<div class='button tiny radius infobox'></div>\").find(\".infobox\").html(\"<i class='fi-info large'></i>\").on(\"click\", showInfo);\n    $(el).find(\"svg\").on(\"click\", hideInfo);\n    stations.forEach(function(d) {\n      return d.appearances.forEach(function(c) {\n        return c.date = parseDate(c.week);\n      });\n    });\n    if (graph === \"stations\") {\n      infostring = \"<br />\\nThis graph displays the number of stations \" + collection.artist + \" is charting\\non over time.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\";\n      x = d3.time.scale().range([0, width - 140]);\n      y = d3.scale.linear().range([0, height]);\n      y2 = d3.scale.linear().range([0, height]);\n      line = d3.svg.line().x(function(d) {\n        return x(d.week);\n      }).y(function(d) {\n        var points;\n        points = 0;\n        _.each(d.appearances, function(a) {\n          return points += 31 - a.position;\n        });\n        return y(points);\n      });\n      area = d3.svg.area().x(function(d) {\n        return x(d.week);\n      }).y0(function(d) {\n        return y(d.y0);\n      }).y1(function(d) {\n        return y(d.y0 + d.y);\n      });\n      stack = d3.layout.stack().values(function(d) {\n        return d.values;\n      });\n      weeks = parseWeeks(collection);\n      weeks.forEach(function(d) {\n        return d.week = parseDate(d.week);\n      });\n      pByW = {};\n      _.each(weeks, function(w) {\n        return _.each(w.appearances, function(a) {\n          if (pByW[w.week]) {\n            return pByW[w.week] += 31 - a.position;\n          } else {\n            return pByW[w.week] = 31 - a.position;\n          }\n        });\n      });\n      pArray = [];\n      _.each(pByW, function(w, k) {\n        return pArray.push({\n          week: k,\n          score: w\n        });\n      });\n      console.log(stations);\n      x.domain([\n        d3.min(weeks, function(w) {\n          return w.week;\n        }), d3.max(weeks, function(w) {\n          return w.week;\n        })\n      ]);\n      y.domain([\n        d3.max(pArray, function(p) {\n          return p.score;\n        }), 0\n      ]);\n      y2.domain([\n        d3.max(weeks, function(w) {\n          return w.appearances.length;\n        }), 0\n      ]);\n      yAxis = d3.svg.axis().scale(y).orient(\"left\");\n      y2Axis = d3.svg.axis().scale(y2).orient(\"right\");\n      xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n      svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis);\n      svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"-3em\").style(\"text-anchor\", \"end\").text(\"Chartscore\");\n      svg.append(\"g\").attr(\"class\", \"y2 axis\").attr(\"transform\", \"translate(\" + (width - margin.right) + \", 0)\").call(y2Axis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"-3em\").style(\"text-anchor\", \"end\").text(\"Number of Stations\");\n      week = svg.selectAll(\".week\").data(weeks).enter().append(\"g\").attr(\"class\", function(d) {\n        return \"week of \" + d.week;\n      });\n      week.append(\"path\").attr(\"class\", \"line\").attr(\"d\", function(d) {\n        weeks.sort(function(a, b) {\n          return a.week - b.week;\n        });\n        return line(weeks);\n      }).style(\"stroke\", function(d) {\n        return color(d);\n      }).on(\"mouseover\", highlight).on(\"mouseout\", mouseout);\n      week.append(\"circle\").attr(\"class\", function(d) {\n        return \"dot \" + d.week;\n      }).style(\"fill\", function(d, i) {\n        return color(d._id);\n      }).attr(\"r\", 5).attr(\"cx\", function(d) {\n        return x(d.week);\n      }).attr(\"cy\", function(d) {\n        return y2(d.appearances.length);\n      });\n      station = svg.selectAll(\".station\").data(weeks);\n    }\n    if (graph === \"line\") {\n      infostring = \"<br />\\nThis graph displays all appearances of \" + collection.artist + \" over the\\nselected time range, organized by station.<br />\\nThe X-Axis is determined by the date of the appearance.<br />\\nThe Y-Axis is determined by the album's position.<br />\\nMouseover any dot or line for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\";\n      line = d3.svg.line().x(function(d) {\n        return x(d.date);\n      }).y(function(d) {\n        return y(d.position);\n      });\n      x.domain([\n        d3.min(stations, function(c) {\n          return d3.min(c.appearances, function(v) {\n            return v.date;\n          });\n        }), d3.max(stations, function(c) {\n          return d3.max(c.appearances, function(v) {\n            return v.date;\n          });\n        })\n      ]);\n      y.domain([1, 30]);\n      svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis);\n      svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"-3em\").style(\"text-anchor\", \"end\").text(\"Position\");\n      station = svg.selectAll(\".station\").data(stations).enter().append(\"g\").attr(\"class\", function(d) {\n        return \"station \" + d._id;\n      });\n      station.append(\"path\").attr(\"class\", \"line\").attr(\"d\", function(d) {\n        d.appearances.sort(function(a, b) {\n          return a.date - b.date;\n        });\n        return line(d.appearances);\n      }).style(\"stroke\", function(d, i) {\n        return color(d._id);\n      }).on(\"mouseover\", highlight).on(\"mouseout\", mouseout);\n      circle = station.selectAll('circle').data(function(d, i) {\n        d.appearances.forEach(function(c) {\n          return c._id = d._id;\n        });\n        return d.appearances;\n      }).enter().append(\"circle\").attr(\"class\", function(d) {\n        return \"dot \" + d._id + \" \" + d.week;\n      }).style(\"fill\", function(d, i) {\n        return color(d._id);\n      }).attr(\"r\", 5).attr(\"cx\", function(d) {\n        return x(d.date);\n      }).attr(\"cy\", function(d) {\n        return y(d.position);\n      }).on(\"mouseover\", highlightCircle).on(\"click\", click).on(\"mouseout\", mouseoutCircle);\n      legend = svg.selectAll(\".legend\").data(stations).enter().append(\"g\").attr(\"class\", function(d) {\n        return \"legend \" + d;\n      }).attr(\"transform\", function(d, i) {\n        if (i < 20) {\n          return \"translate(-70,\" + i * 20 + \")\";\n        } else if (i >= 20) {\n          return \"translate(5,\" + (i - 20) * 20 + \")\";\n        }\n      });\n      legend.append(\"rect\").attr(\"x\", width - 10).attr(\"width\", 18).attr(\"height\", 18).style(\"fill\", function(d) {\n        return color(d._id);\n      });\n      legend.append(\"text\").attr(\"x\", width - 15).attr(\"y\", 9).attr(\"dy\", \".35em\").style(\"text-anchor\", \"end\").text(function(d) {\n        return d._id.toUpperCase();\n      });\n      legend.on(\"mouseover\", highlightLegend).on(\"mouseout\", mouseoutLegend);\n    } else if (graph === \"bar\") {\n      infostring = \"<br />\\nThis graph displays the number of appearances of \" + collection.artist + \"\\nover the selected time range, organized by station.<br />\\nThe X-Axis is determined by the station.<br />\\nThe Y-Axis is determined by the number of appearances.<br />\\nMouseover any bar for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\";\n      margin.right = margin.left;\n      barWidth = width / stations.length;\n      x = d3.scale.linear().range([0, width - 75]);\n      y = d3.scale.linear().range([height, 0]);\n      yAxis = d3.svg.axis().scale(y).orient(\"left\");\n      x.domain([0, stations.length]);\n      y.domain([\n        0, d3.max(stations, function(c) {\n          return c.appearances.length;\n        })\n      ]);\n      svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"-3em\").style(\"text-anchor\", \"end\").text(\"# of Appearances\");\n      mouseover = function(d, i) {\n        d3.selectAll(\"g rect\").transition().duration(100).style(\"opacity\", 0.2);\n        d3.select(\"g .\" + d._id + \" > rect\").transition().duration(100).style(\"opacity\", 1);\n        d3.select(\"g .\" + d._id + \" > text\").transition().duration(100).style(\"font-weight\", \"bold\");\n        return showData(d);\n      };\n      mouseout = function() {\n        d3.selectAll(\"g rect\").transition().duration(100).style(\"opacity\", 1);\n        d3.selectAll(\"g text\").transition().duration(100).style(\"font-weight\", \"normal\");\n        return $(\".tip\").fadeOut(50).remove();\n      };\n      showData = function(d) {\n        var chartTip;\n        $(\"#graph\").append(\"<div class='tip'></div>\");\n        chartTip = d3.select(\".tip\");\n        chartTip.style(\"left\", width - 100 + \"px\").style(\"top\", 50 + \"px\").style(\"background\", color(d._id));\n        $(\".tip\").html(\"\" + (d._id.toUpperCase()) + \" <br />\\nTotal Appearances: \" + d.appearances.length + \"<br />\\nHighest Position: \" + (d3.min(d.appearances, function(c) {\n          return c.position;\n        })) + \"<br />\\nFirst: \" + (d3.min(d.appearances, function(c) {\n          return c.week;\n        })) + \"<br />\\nMost Recent: \" + (d3.max(d.appearances, function(c) {\n          return c.week;\n        })));\n        return $(\".tip\").fadeIn(100);\n      };\n      station = svg.selectAll(\".station\").data(stations).enter().append(\"g\").attr(\"transform\", function(d, i) {\n        return \"translate(\" + i * barWidth + \",0 )\";\n      }).attr(\"class\", function(d) {\n        return \"station \" + d._id;\n      });\n      station.append(\"rect\").attr(\"class\", \"bar\").attr(\"width\", barWidth - 1).attr(\"height\", function(d) {\n        return height - y(d.appearances.length);\n      }).attr(\"y\", function(d) {\n        return 3 + y(d.appearances.length);\n      }).style(\"fill\", function(d, i) {\n        return color(d._id);\n      }).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout).on(\"click\", click);\n      station.append(\"text\").attr(\"y\", barWidth / 2 - barWidth).attr(\"x\", function(d) {\n        return height;\n      }).attr(\"dx\", \".75em\").text(function(d) {\n        return d._id.toUpperCase();\n      }).attr(\"transform\", \"rotate(90)\");\n    }\n  };\n  return draw(graph);\n};\n","var App, tuesify;\n\nApp = require(\"application\");\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\nmodule.exports = function(el, collection, view) {\n  var albumCircles, albums, click, color, height, hideInfo, margin, mouseout, mouseover, rScale, showData, showEmpty, showInfo, svg, width, x, xAxis, y, yAxis;\n  margin = {\n    top: 100,\n    right: 120,\n    bottom: 50,\n    left: 50\n  };\n  width = $(\"#graph-region\").width() - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  y = d3.scale.linear().range([0, height]);\n  x = d3.scale.linear().range([0, width - 100]);\n  color = require('colorList');\n  xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n  yAxis = d3.svg.axis().scale(y).orient(\"left\");\n  svg = d3.select(el).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + (margin.left + 20) + \",\" + margin.top + \")\");\n  albums = collection.models;\n  rScale = d3.scale.linear();\n  rScale.domain(d3.extent(albums, function(c) {\n    return c.attributes.frontPoints;\n  }));\n  rScale.range([5, 130]);\n  y.domain([\n    d3.max(albums, function(c) {\n      return c.attributes.appearances.length;\n    }), d3.min(albums, function(c) {\n      return c.attributes.appearances.length;\n    })\n  ]);\n  x.domain(d3.extent(albums, function(c) {\n    return c.attributes.frontPoints;\n  }));\n  svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis);\n  if (albums.length !== 0) {\n    svg.append(\"g\").attr(\"class\", \"y axis\").attr(\"transform\", \"translate(-10,0)\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \".71em\").style(\"text-anchor\", \"end\").text(\"# of Appearances\");\n  }\n  mouseover = function(d, i) {\n    d3.selectAll(\"g circle\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g .\" + d.attributes.slug).transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g circle\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d) {\n    var artist;\n    artist = d.attributes.artist;\n    return view.trigger(\"click:album:circle\", artist);\n  };\n  showData = function(circle, d) {\n    var chartTip, coord;\n    coord = d3.mouse(circle);\n    $(\"#graph\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"left\", 150 + \"px\").style(\"top\", 50 + \"px\").style(\"background\", color(d.attributes.rank));\n    $(\".tip\").html(\"#\" + d.attributes.rank + \": \" + d.attributes.artist + \" <br />\\n\" + d.attributes.album + \"<br />\\nTotal Appearances: \" + d.attributes.appearances.length + \"<br />\\nChartscore: \" + d.attributes.frontPoints + \"<br />\\nFirst Appearance: \" + d.attributes.firstWeek + \"<br />\\nAppeared on \" + d.attributes.stations.length + \" / \" + d.attributes.totalStations + \" stations\");\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  showInfo = function() {\n    if ($(el).find(\".tip\").length !== 0) {\n      return $(\".info\").remove();\n    } else {\n      return $(el).append(\"<div class='tip text-center info'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 3 + \"px\").html(\"<br />\\nThis graph displays the top albums for all stations over the selected time range.<br />\\nThe X-Axis and the Radius of each circle is determined by the album's Chartscore.<br />\\nThe Y-Axis is determined by the album's total number of appearances.<br />\\n<br />\\nMouseover any circle for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\").on(\"click\", hideInfo).fadeIn(100);\n    }\n  };\n  hideInfo = function() {\n    $(el).find(\".info\").fadeOut(100);\n    return $(\".info\").remove();\n  };\n  $(el).prepend(\"<div class='button tiny radius infobox'></div>\").find(\".infobox\").html(\"<i class='fi-info large'></i>\").on(\"click\", showInfo);\n  $(el).find(\"svg\").on(\"click\", hideInfo);\n  albumCircles = svg.selectAll(\"circle\").data(albums).enter().append(\"circle\").attr(\"fill\", function(d) {\n    return color(d.attributes.rank);\n  }).attr(\"class\", function(d) {\n    return \"dot \" + d.attributes.slug;\n  }).attr(\"cy\", function(d) {\n    var num;\n    num = d.attributes.appearances.length;\n    return y(num);\n  }).attr(\"cx\", function(d, i) {\n    return x(d.attributes.frontPoints);\n  }).attr(\"r\", function(d) {\n    return rScale(d.attributes.frontPoints);\n  });\n  albumCircles.on(\"mouseover\", mouseover).on(\"mouseout\", mouseout).on(\"click\", click);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","var App, ArtistsApp, Controllers,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require(\"application\");\n\nArtistsApp = require(\"modules/artists/artists_app\");\n\nControllers = require(\"controllers/baseController\");\n\nmodule.exports = App.module('ArtistsApp.Show', function(Show, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1, _ref10, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n  Show.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      this.mainView = __bind(this.mainView, this);\n      _ref = Controller.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Controller.prototype.initialize = function(opts) {\n      var artist,\n        _this = this;\n      this.opts = opts;\n      artist = App.request(\"artist:entities\", opts.artist);\n      this.layout = this.getLayoutView();\n      this.listenTo(this.layout, 'show', function() {\n        return _this.mainView(artist);\n      });\n      return this.show(this.layout, {\n        region: App.mainRegion,\n        loading: false\n      });\n    };\n\n    Controller.prototype.mainView = function(artist) {\n      if (this.opts.artist) {\n        return this.showArtist(artist);\n      } else {\n        return this.showStart();\n      }\n    };\n\n    Controller.prototype.showArtist = function(artist) {\n      var artistsView,\n        _this = this;\n      App.execute(\"when:fetched\", artist, function() {\n        $(document).foundation();\n        if (artist.length === 0) {\n          return _this.showEmpty();\n        }\n      });\n      artistsView = this.getArtistsView(artist);\n      this.show(artistsView, {\n        region: this.layout.tableRegion,\n        loading: true\n      });\n      this.showPanel(artist);\n      this.showTitle(artist);\n      return this.showGraph(artist);\n    };\n\n    Controller.prototype.showTitle = function(artist) {\n      var titleView;\n      titleView = this.getTitleView(artist);\n      this.listenTo(titleView, \"click:pop:station\", function(e) {\n        return App.navigate(\"station/\" + e.text, {\n          trigger: true\n        });\n      });\n      return this.show(titleView, {\n        region: this.layout.titleRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.showGraph = function(artist) {\n      var graphView;\n      graphView = this.getGraphView(artist);\n      this.listenTo(graphView, 'click:station:item', function(station) {\n        station = encodeURIComponent(station);\n        return App.navigate(\"station/\" + station, {\n          trigger: true\n        });\n      });\n      return this.show(graphView, {\n        region: this.layout.graphRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.showEmpty = function() {\n      var emptyView;\n      emptyView = this.getEmptyView();\n      this.listenTo(emptyView, 'click:search', function(artistVal) {\n        artistVal = encodeURIComponent(artistVal);\n        return App.navigate(\"artist/\" + artistVal, {\n          trigger: true\n        });\n      });\n      return this.show(emptyView, {\n        region: this.layout.tableRegion\n      });\n    };\n\n    Controller.prototype.showStart = function() {\n      var startView;\n      startView = this.getStartView();\n      this.listenTo(startView, 'click:search', function(artistVal) {\n        artistVal = encodeURIComponent(artistVal);\n        return App.navigate(\"artist/\" + artistVal, {\n          trigger: true\n        });\n      });\n      return this.show(startView, {\n        region: this.layout.tableRegion\n      });\n    };\n\n    Controller.prototype.showPanel = function(artist) {\n      var panelView;\n      panelView = this.getPanelView(artist);\n      this.slug = \"\";\n      this.listenTo(panelView, \"click:albumButton\", function(slug) {\n        if (slug === \"cz_all\") {\n          this.slug = '';\n          return artist.resetFilters();\n        } else {\n          this.slug = slug;\n          return artist.resetAndAddFilter({\n            slug: slug\n          });\n        }\n      });\n      return this.show(panelView, {\n        region: this.layout.panelRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.getTitleView = function(artist) {\n      return new Show.Title({\n        collection: artist\n      });\n    };\n\n    Controller.prototype.getGraphView = function(artist) {\n      return new Show.Graph({\n        collection: artist\n      });\n    };\n\n    Controller.prototype.getEmptyView = function() {\n      return new Show.EmptyView;\n    };\n\n    Controller.prototype.getArtistsView = function(artists) {\n      return new Show.Artist({\n        collection: artists\n      });\n    };\n\n    Controller.prototype.getStartView = function() {\n      return new Show.Start;\n    };\n\n    Controller.prototype.getPanelView = function(artist) {\n      return new Show.Panel({\n        collection: artist\n      });\n    };\n\n    Controller.prototype.getLayoutView = function() {\n      return new Show.Layout;\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n  Show.Layout = (function(_super) {\n    __extends(Layout, _super);\n\n    function Layout() {\n      _ref1 = Layout.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Layout.prototype.template = \"modules/artists/show/templates/show_layout\";\n\n    Layout.prototype.regions = {\n      titleRegion: \"#title-region\",\n      panelRegion: \"#panel-region\",\n      graphRegion: \"#graph-region\",\n      tableRegion: \"#table-region\"\n    };\n\n    return Layout;\n\n  })(Marionette.Layout);\n  Show.Title = (function(_super) {\n    __extends(Title, _super);\n\n    function Title() {\n      _ref2 = Title.__super__.constructor.apply(this, arguments);\n      return _ref2;\n    }\n\n    Title.prototype.template = \"modules/artists/show/templates/title\";\n\n    Title.prototype.events = {\n      \"click #popStation\": \"popStation\"\n    };\n\n    Title.prototype.popStation = function(e) {\n      return this.trigger(\"click:pop:station\", e.target);\n    };\n\n    return Title;\n\n  })(Marionette.ItemView);\n  Show.Panel = (function(_super) {\n    __extends(Panel, _super);\n\n    function Panel() {\n      _ref3 = Panel.__super__.constructor.apply(this, arguments);\n      return _ref3;\n    }\n\n    Panel.prototype.template = \"modules/artists/show/templates/panel\";\n\n    Panel.prototype.className = \"\";\n\n    Panel.prototype.events = {\n      \"click a.albumlink\": \"showGraph\",\n      \"click a.button\": \"showFilters\"\n    };\n\n    Panel.prototype.showGraph = function(e) {\n      e.preventDefault();\n      $(e.target).parent().parent().find('.active').removeClass(\"active\");\n      $(e.target).parent(\"dd\").toggleClass(\"active\");\n      return this.trigger('click:albumButton', e.target.id);\n    };\n\n    Panel.prototype.showFilters = function(e) {\n      e.preventDefault();\n      if ($(\"#filters\").hasClass(\"hide\")) {\n        $(\"#filters\").slideDown().toggleClass(\"hide\");\n        return $(e.target).text(\"Hide Filters\");\n      } else {\n        $(\"#filters\").slideUp().toggleClass(\"hide\");\n        return $(e.target).text(\"Show Filters\");\n      }\n    };\n\n    return Panel;\n\n  })(Marionette.ItemView);\n  Show.Graph = (function(_super) {\n    __extends(Graph, _super);\n\n    function Graph() {\n      _ref4 = Graph.__super__.constructor.apply(this, arguments);\n      return _ref4;\n    }\n\n    Graph.prototype.template = \"modules/artists/show/templates/graph\";\n\n    Graph.prototype.ui = {\n      \"typeSelect\": \"#type-select\"\n    };\n\n    Graph.prototype.events = {\n      \"change @ui.typeSelect\": \"select\"\n    };\n\n    Graph.prototype.selectOptions = {\n      \"Appearances By Station\": \"bar\",\n      \"Appearances By Station Over Time\": \"line\"\n    };\n\n    Graph.prototype.select = function(e) {\n      e.preventDefault();\n      this.graphType = this.ui.typeSelect.val();\n      return this.graph(this.graphType);\n    };\n\n    Graph.prototype.buildGraph = require(\"modules/artists/show/graph\");\n\n    Graph.prototype.graphType = \"bar\";\n\n    Graph.prototype.graph = function(type) {\n      var _this = this;\n      d3.select(\"svg\").remove();\n      return App.execute(\"when:fetched\", this.stations, function() {\n        return _this.buildGraph(_this.el, _this.collection, type, _this, _this.stations);\n      });\n    };\n\n    Graph.prototype.id = \"graph\";\n\n    Graph.prototype.collections = [];\n\n    Graph.prototype.initialize = function() {\n      var _this = this;\n      this.stations = App.request(\"stations:entities\");\n      return App.execute(\"when:fetched\", this.collection, function() {\n        _.each(_this.collection.models, function(model) {\n          return _this.collections.push(model.get(\"appearancesCollection\"));\n        });\n        _.each(_this.collections, function(appearances) {\n          return _this.listenTo(appearances, \"filter\", function() {\n            return _this.render();\n          });\n        });\n        return _this.listenTo(_this.collection, \"filter\", function() {\n          return _this.render();\n        });\n      });\n    };\n\n    Graph.prototype.onRender = function() {\n      if (matchMedia(Foundation.media_queries['medium']).matches) {\n        this.ui.typeSelect.find(\"option[value='\" + this.graphType + \"']\").attr(\"selected\", true);\n        return this.graph(this.graphType);\n      }\n    };\n\n    return Graph;\n\n  })(Marionette.ItemView);\n  Show.Empty = (function(_super) {\n    __extends(Empty, _super);\n\n    function Empty() {\n      _ref5 = Empty.__super__.constructor.apply(this, arguments);\n      return _ref5;\n    }\n\n    Empty.prototype.template = \"modules/artists/show/templates/empty\";\n\n    return Empty;\n\n  })(Marionette.ItemView);\n  Show.EmptyView = (function(_super) {\n    __extends(EmptyView, _super);\n\n    function EmptyView() {\n      _ref6 = EmptyView.__super__.constructor.apply(this, arguments);\n      return _ref6;\n    }\n\n    EmptyView.prototype.template = \"modules/artists/show/templates/emptyview\";\n\n    EmptyView.prototype.ui = {\n      'artistInput': '#artist_input'\n    };\n\n    EmptyView.prototype.events = {\n      'submit': 'submit'\n    };\n\n    EmptyView.prototype.submit = function(e) {\n      var artistVal;\n      e.preventDefault();\n      artistVal = $.trim(this.ui.artistInput.val());\n      return this.trigger('click:search', artistVal);\n    };\n\n    return EmptyView;\n\n  })(Marionette.ItemView);\n  Show.Start = (function(_super) {\n    __extends(Start, _super);\n\n    function Start() {\n      _ref7 = Start.__super__.constructor.apply(this, arguments);\n      return _ref7;\n    }\n\n    Start.prototype.template = \"modules/artists/show/templates/start\";\n\n    Start.prototype.ui = {\n      'artistInput': '#artist_input'\n    };\n\n    Start.prototype.events = {\n      'submit': 'submit'\n    };\n\n    Start.prototype.submit = function(e) {\n      var artistVal;\n      e.preventDefault();\n      artistVal = $.trim(this.ui.artistInput.val());\n      return this.trigger('click:search', artistVal);\n    };\n\n    return Start;\n\n  })(Marionette.ItemView);\n  Show.Appearance = (function(_super) {\n    __extends(Appearance, _super);\n\n    function Appearance() {\n      _ref8 = Appearance.__super__.constructor.apply(this, arguments);\n      return _ref8;\n    }\n\n    Appearance.prototype.template = \"modules/artists/show/templates/appearance\";\n\n    Appearance.prototype.tagName = \"tr\";\n\n    return Appearance;\n\n  })(Marionette.ItemView);\n  Show.Album = (function(_super) {\n    __extends(Album, _super);\n\n    function Album() {\n      this.clickHeader = __bind(this.clickHeader, this);\n      _ref9 = Album.__super__.constructor.apply(this, arguments);\n      return _ref9;\n    }\n\n    Album.prototype.template = \"modules/artists/show/templates/artistItem\";\n\n    Album.prototype.initialize = function() {\n      return this.collection = this.model.get(\"appearancesCollection\");\n    };\n\n    Album.prototype.itemView = Show.Appearance;\n\n    Album.prototype.itemViewContainer = \"tbody\";\n\n    Album.prototype.tagName = 'div';\n\n    Album.prototype.events = {\n      \"click a\": \"clickStation\",\n      'click th': 'clickHeader'\n    };\n\n    Album.prototype.clickStation = function(e) {\n      e.preventDefault();\n      return App.navigate(\"station/\" + (encodeURIComponent(e.target.text)), {\n        trigger: true\n      });\n    };\n\n    Album.prototype.sortUpIcon = \"fi-arrow-down\";\n\n    Album.prototype.sortDnIcon = \"fi-arrow-up\";\n\n    Album.prototype.onRender = function() {\n      this.$el.find(\".chosen-select\").chosen();\n      this.$(\"[column]\").append($(\"<i>\")).closest(\"th\").find(\"i\").addClass(\"fi-minus-circle size-18\");\n      this.$(\"[column='\" + this.collection.sortAttr + \"']\").find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      return this;\n    };\n\n    Album.prototype.clickHeader = function(e) {\n      var $el, cs, ns;\n      $el = $(e.currentTarget);\n      ns = $el.attr(\"column\");\n      cs = this.collection.sortAttr;\n      if (ns === cs) {\n        this.collection.sortDir *= -1;\n      } else {\n        this.collection.sortDir = 1;\n      }\n      $(\"th\").find(\"i\").attr(\"class\", \"fi-minus-circle size-18\");\n      if (this.collection.sortDir === 1) {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      } else {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortDnIcon);\n      }\n      this.collection.sortCharts(ns);\n    };\n\n    return Album;\n\n  })(Marionette.CompositeView);\n  return Show.Artist = (function(_super) {\n    __extends(Artist, _super);\n\n    function Artist() {\n      _ref10 = Artist.__super__.constructor.apply(this, arguments);\n      return _ref10;\n    }\n\n    Artist.prototype.template = \"modules/artists/show/templates/artists\";\n\n    Artist.prototype.itemView = Show.Album;\n\n    Artist.prototype.emptyView = Show.Empty;\n\n    Artist.prototype.itemViewContainer = \"#theplace\";\n\n    Artist.prototype.ui = {\n      \"position\": \"#position\",\n      \"station\": \"#station\",\n      \"week\": \"#week\",\n      \"clear\": \"#clearFilters\"\n    };\n\n    Artist.prototype.events = {\n      'change input': \"submit\",\n      'change .chosen-select': \"submit\",\n      \"click @ui.clear\": \"clearFilters\"\n    };\n\n    Artist.prototype.collections = [];\n\n    Artist.prototype.initialize = function() {\n      var subCollection,\n        _this = this;\n      this.filters = [];\n      this.bigList = {};\n      subCollection = \"appearancesCollection\";\n      return App.execute(\"when:fetched\", this.collection, function() {\n        var model, _i, _len, _ref11;\n        _this.collection.countPoints();\n        $(document).foundation();\n        _this.collection.initializeFilters();\n        _ref11 = _this.collection.models;\n        for (_i = 0, _len = _ref11.length; _i < _len; _i++) {\n          model = _ref11[_i];\n          _this.collections.push(model.get(subCollection));\n        }\n        return _.each(_this.collections, function(collection, i) {\n          collection.initializeFilters();\n          return _this.filters[i] = collection.getFilterLists();\n        });\n      });\n    };\n\n    Artist.prototype.onRender = function() {\n      var filterFacets,\n        _this = this;\n      filterFacets = Object.keys(this.filters[0]);\n      _.each(filterFacets, function(facet) {\n        return _this.bigList[facet] = [];\n      });\n      _.each(this.filters, function(filterSet) {\n        return _.each(filterFacets, function(facet, i) {\n          return _this.bigList[facet].push(filterSet[facet]);\n        });\n      });\n      _.each(filterFacets, function(facet) {\n        _this.bigList[facet] = _.uniq(_.flatten(_.union(_this.bigList[facet])));\n        return _this.bigList[facet].sort(function(a, b) {\n          if (a === b) {\n            return 0;\n          }\n          if (facet === \"position\") {\n            if (+a > +b) {\n              return 1;\n            } else {\n              return -1;\n            }\n          } else if (facet === \"week\") {\n            if (moment(a) > moment(b)) {\n              return 1;\n            } else {\n              return -1;\n            }\n          } else {\n            if (a > b) {\n              return 1;\n            } else {\n              return -1;\n            }\n          }\n        });\n      });\n      _.each(this.bigList, function(bigSet, facet) {\n        return _.each(bigSet, function(value) {\n          return _this.$el.find(\"#\" + facet).append(\"<option value='\" + value + \"'>\" + (value.toUpperCase()) + \"</option>\").attr(\"disabled\", false);\n        });\n      });\n      this.$el.find(\".chosen-select\").chosen().trigger(\"chosen:updated\");\n      return this.collection.on(\"filter\", function() {\n        return _this.makeFilterLists();\n      });\n    };\n\n    Artist.prototype.submit = function(e, params) {\n      var facet, filter, value;\n      e.preventDefault();\n      filter = {};\n      facet = e.target.id;\n      value = params.selected ? params.selected : params.deselected;\n      filter[facet] = value;\n      if (params.selected) {\n        return this.addFilter(filter);\n      } else {\n        return this.removeFilter(filter);\n      }\n    };\n\n    Artist.prototype.clearFilters = function(e) {\n      e.preventDefault();\n      _.each(this.collections, function(collection) {\n        return collection.resetFilters();\n      });\n      this.$el.find(\"option\").attr(\"disabled\", false);\n      return this.$el.find(\".chosen-select\").val('[]').trigger('chosen:updated');\n    };\n\n    Artist.prototype.addFilter = function(filter) {\n      _.each(this.collections, function(collection) {\n        return collection.addFilter(filter);\n      });\n      return this.updateFilters(filter);\n    };\n\n    Artist.prototype.removeFilter = function(filter) {\n      _.each(this.collections, function(collection) {\n        return collection.removeFilter(filter);\n      });\n      return this.updateFilters(filter);\n    };\n\n    Artist.prototype.makeFilterLists = function() {\n      var _this = this;\n      this.$el.find(\"option\").attr(\"disabled\", true);\n      _.each(this.collection.models, function(model) {\n        var filterList;\n        filterList = model.attributes.appearancesCollection.initializeFilterLists();\n        return _.each(filterList, function(values, facet) {\n          return _.each(values, function(value) {\n            return _this.$el.find(\"option[value='\" + value + \"']\").attr(\"disabled\", false);\n          });\n        });\n      });\n      return this.$el.find(\".chosen-select\").chosen().trigger(\"chosen:updated\");\n    };\n\n    Artist.prototype.updateFilters = function(filter) {\n      var filterFacet,\n        _this = this;\n      filterFacet = Object.keys(filter);\n      this.$el.find(\"option\").attr(\"disabled\", true);\n      _.each(this.collections, function(collection, i, list) {\n        var facets;\n        facets = collection.getUpdatedFilterLists(filterFacet);\n        return _.each(facets, function(values, facet) {\n          return _.each(values, function(value) {\n            return _this.$el.find(\"option[value='\" + value + \"']\").attr(\"disabled\", false);\n          });\n        });\n      });\n      return this.$el.find(\".chosen-select\").chosen().trigger(\"chosen:updated\");\n    };\n\n    return Artist;\n\n  })(Marionette.CompositeView);\n});\n","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"<td>\"\n    + escapeExpression(((helper = (helper = helpers.position || (depth0 != null ? depth0.position : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"position\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n<td><a>\"\n    + escapeExpression(((helpers.toUpper || (depth0 && depth0.toUpper) || helperMissing).call(depth0, (depth0 != null ? depth0.station : depth0), {\"name\":\"toUpper\",\"hash\":{},\"data\":data})))\n    + \"</a></td>\\n<td>\"\n    + escapeExpression(((helper = (helper = helpers.week || (depth0 != null ? depth0.week : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"week\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n  return \"\\n    <tr>\\n      <td>\"\n    + escapeExpression(lambda((depth0 != null ? depth0.position : depth0), depth0))\n    + \"</td>\\n      <td><a>\"\n    + escapeExpression(((helpers.toUpper || (depth0 && depth0.toUpper) || helperMissing).call(depth0, (depth0 != null ? depth0.station : depth0), {\"name\":\"toUpper\",\"hash\":{},\"data\":data})))\n    + \"</a></td>\\n      <td>\"\n    + escapeExpression(lambda((depth0 != null ? depth0.week : depth0), depth0))\n    + \"</td>\\n    </tr>\\n  \";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda, buffer = \"<!-- <h4>\"\n    + escapeExpression(((helper = (helper = helpers.album || (depth0 != null ? depth0.album : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"album\",\"hash\":{},\"data\":data}) : helper)))\n    + \" - \"\n    + escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h4> -->\\n<div class=\\\"chart\\\">\\n  <table width=\\\"100%\\\">\\n    <thead>\\n      <tr><th colspan=\\\"3\\\">\"\n    + escapeExpression(((helper = (helper = helpers.album || (depth0 != null ? depth0.album : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"album\",\"hash\":{},\"data\":data}) : helper)))\n    + \" - \"\n    + escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \" - \"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.appearances : depth0)) != null ? stack1.length : stack1), depth0))\n    + \" appearances</th></tr>\\n      <th column=\\\"position\\\">Position</th>\\n      <th column=\\\"station\\\">Station</th>\\n      <th column=\\\"week\\\">Week</th>\\n    </thead>\\n    <tbody></tbody>\\n  <!-- \";\n  stack1 = ((helpers.each_sort_date || (depth0 && depth0.each_sort_date) || helperMissing).call(depth0, (depth0 != null ? depth0.appearances : depth0), \"week\", {\"name\":\"each_sort_date\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \" -->\\n  </table>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"filters\\\" class=\\\"hide \\\">\\n  <div class=\\\"row\\\">\\n    <form>\\n      <div class=\\\"medium-3 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"position\\\" data-placeholder=\\\"Position\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-4 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"station\\\" data-placeholder=\\\"Station\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-4 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"week\\\" data-placeholder=\\\"Week\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-1 column\\\">\\n        <a class=\\\"button secondary tiny right\\\" id=\\\"clearFilters\\\" href=\\\"#\\\">Clear</a>\\n      </div>\\n  </form>\\n  </div>\\n</div>\\n\\n<div id=\\\"theplace\\\"></div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<th colspan=\\\"4\\\">Sorry, Nothing Found.</th>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"panel small-12 columns\\\">\\n  <h4>Sorry, nothing found for that search.</h4>\\n  <h5>Try again?</h5>\\n  <form>\\n    <div class=\\\"station-field\\\">\\n      <label>Artist:<input type=\\\"text\\\" id=\\\"artist_input\\\"></input></label>\\n    </div>\\n      <button type=\\\"submit\\\">Search</button>\\n  </form>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"show-for-small-only\\\">\\n  <p class=\\\"lead\\\">For now, ChartZapp's graphs are only available on larger screens.</p>\\n  <p>If you'd like to see more on a mobile device,\\n  <a href=\\\"#\\\" data-reveal-id=\\\"feedback\\\">let me know!</a></p>\\n\\n</div>\\n\\n<div class=\\\"show-for-medium-up\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-4 columns\\\">\\n      <h3 class=\\\"\\\">Visualizer:</h3>\\n    </div>\\n    <div class=\\\"small-4 columns end\\\">\\n      <select id=\\\"type-select\\\">\\n        <option value=\\\"bar\\\">Appearances By Station</option>\\n        <option value=\\\"line\\\">Appearances By Station Over Time</option>\\n      </select>\\n    </div>\\n  </div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \"  <dd><a href=\\\"#\\\" id=\\\"\"\n    + escapeExpression(lambda((depth0 != null ? depth0.slug : depth0), depth0))\n    + \"\\\" class=\\\"albumlink\\\">\"\n    + escapeExpression(lambda((depth0 != null ? depth0.album : depth0), depth0))\n    + \"</a></dd>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<a class=\\\"button tiny right\\\">Show Filters</a>\\n<dl class=\\\"album-sub-nav\\\">\\n  <dt>Albums:</dt>\\n  <dd class=\\\"active\\\"><a href=\\\"#\\\" class=\\\"albumlink\\\" id=\\\"cz_all\\\">All</a></dd>\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.items : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</dl>\\n\\n<!-- <form>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-2 columns\\\">\\n      <label for=\\\"position\\\" class=\\\"right inline\\\">Position</label>\\n    </div>\\n    <div class=\\\"small-4 columns\\\">\\n      <select class=\\\"chosen-select\\\" id=\\\"position\\\" data-placeholder=\\\"Position\\\" multiple>\\n      </select>\\n    </div>\\n    <div class=\\\"small-2 columns\\\">\\n      <label for=\\\"station\\\" class=\\\"right inline\\\">Station</label>\\n    </div>\\n    <div class=\\\"small-4 columns\\\">\\n      <select class=\\\"chosen-select\\\" id=\\\"station\\\" data-placeholder=\\\"Station\\\" multiple>\\n      </select>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-2 columns\\\">\\n      <label for=\\\"week\\\" class=\\\"right inline\\\">Week</label>\\n    </div>\\n    <div class=\\\"small-4 columns\\\">\\n      <select class=\\\"chosen-select\\\" id=\\\"week\\\" data-placeholder=\\\"Week\\\" multiple>\\n      </select>\\n    </div>\\n    <div class=\\\"small-2 columns\\\">\\n      <label for=\\\"graph\\\" class=\\\"right inline\\\">Visualizer</label>\\n    </div>\\n    <div class=\\\"small-4 columns\\\">\\n      <select id=\\\"type-select\\\">\\n        <option value=\\\"bar\\\">Appearances By Station</option>\\n        <option value=\\\"line\\\">Appearances By Station Over Time</option>\\n      </select>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"small-1 column right\\\">\\n      <a class=\\\"button tiny secondary right\\\" id=\\\"clearFilters\\\" href=\\\"#\\\">Clear</a>\\n    </div>\\n  </div>\\n</form> -->\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"artist_layout\\\">\\n  <div class=\\\"title-row\\\">\\n    <div id=\\\"title-region\\\" class=\\\"small-12 columns\\\"></div>\\n  </div>\\n  <div class=\\\"graph-row\\\">\\n    <div id=\\\"graph-region\\\" class=\\\"small-12 columns\\\"></div>\\n  </div>\\n  <div class=\\\"panel-row\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"panel-region\\\" class=\\\"small-12 columns\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"graph-row\\\">\\n    <div class=\\\"row\\\">\\n    <div id=\\\"table-region\\\" class=\\\"small-12 columns\\\"></div>\\n  </div>\\n</div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"panel small-12 columns\\\">\\n  <h4>Enter an artist to get started</h4>\\n  <form>\\n    <div class=\\\"station-field\\\">\\n      <label>Artist:<input type=\\\"text\\\" id=\\\"artist_input\\\"></input></label>\\n    </div>\\n      <button type=\\\"submit\\\">Search</button>\\n  </form>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return escapeExpression(((helper = (helper = helpers.desc || (depth0 != null ? depth0.desc : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"desc\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n<div class=\\\"row\\\">\\n  <div class=\\\"large-8 columns\\\">\\n    <div class=\\\"row collapse\\\">\\n      <div class=\\\"small-2 columns\\\">\\n        <span class=\\\"prefix radius\\\">Top</span>\\n      </div>\\n      <div class=\\\"small-8 columns\\\">\\n        <input id=\\\"number\\\" type=\\\"number\\\" placeholder=\\\"30\\\"></input>\\n      </div>\\n      <div class=\\\"small-2 columns\\\">\\n        <span class=\\\"postfix radius\\\"><i class=\\\"fi-record\\\"></i></span>\\n      </div>\\n    </div>\\n  </div>\\n  <!-- <div class=\\\"small-4 columns\\\">\\n    <select id=\\\"time-select\\\">\\n      <option>This Year</option>\\n      <option>This Month</option>\\n      <option>This Week</option>\\n    </select>\\n  </div> -->\\n  <div class=\\\"large-4 columns\\\">\\n    <div class=\\\"row collapse\\\">\\n      <div class=\\\"small-10 columns\\\">\\n        <input id=\\\"custom-range\\\" type=\\\"text\\\" placeholder=\\\"This Week\\\"></input>\\n      </div>\\n      <div class=\\\"small-2 columns\\\">\\n        <span class=\\\"postfix radius\\\"><i id=\\\"custom-range\\\" class=\\\"fi-calendar\\\"></i></span>\\n      </div>\\n    </div>\\n  </div>\\n<!-- </div> -->\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \" <a class=\\\"label radius right\\\" id=\\\"popStation\\\">\"\n    + escapeExpression(lambda(depth0, depth0))\n    + \"</a>\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, buffer = \"<div class=\\\"row\\\">\\n  <div class=\\\"small-8 columns\\\">\\n    <h1 class=\\\"artist-title\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.artist : stack1), depth0))\n    + \"</h1>\\n  </div>\\n  <div class=\\\"small-4 columns\\\">\\n    <h2 class=\\\"right\\\">Chartscore: <span class=\\\"header-label radius\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalChartScore : stack1), depth0))\n    + \"</span></h2>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"small-6 columns\\\">\\n    <ul class=\\\"no-bullet\\\">\\n      <li>Most Charted: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.popAlbum : stack1), depth0))\n    + \"</span></li>\\n      <li>Most Charted on:\";\n  stack1 = helpers.each.call(depth0, ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.popStation : stack1), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</li>\\n      <!-- <li>ChartScore: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalChartScore : stack1), depth0))\n    + \"</span></li> -->\\n    </ul>\\n  </div>\\n  <div class=\\\"small-6 columns\\\">\\n    <ul class=\\\"no-bullet\\\">\\n      <li>Albums: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1.length : stack1), depth0))\n    + \"</span></li>\\n      <li>Appearances: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalAppearances : stack1), depth0))\n    + \"</span></li>\\n\\n    </ul>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var App;\n\nApp = require('application');\n\nmodule.exports = App.module(\"FooterApp\", function(FooterApp, App, Backbone, Marionette, $, _) {\n  var API;\n  FooterApp.startWithParent = false;\n  FooterApp.Show = require('modules/footer/show/show_controller');\n  API = {\n    showFooter: function() {\n      return new FooterApp.Show.Controller({\n        region: App.footerRegion\n      });\n    }\n  };\n  return FooterApp.on(\"start\", function() {\n    return API.showFooter();\n  });\n});\n","var App, Controllers, FooterApp,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nFooterApp = require('modules/footer/footer_app');\n\nControllers = require('controllers/baseController');\n\nmodule.exports = App.module(\"FooterApp.Show\", function(Show, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1;\n  Show.Footer = (function(_super) {\n    __extends(Footer, _super);\n\n    function Footer() {\n      _ref = Footer.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Footer.prototype.template = 'views/templates/footer';\n\n    return Footer;\n\n  })(Marionette.ItemView);\n  return Show.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      _ref1 = Controller.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Controller.prototype.initialize = function() {\n      var footerView;\n      footerView = this.getFooterView();\n      return this.show(footerView);\n    };\n\n    Controller.prototype.getFooterView = function() {\n      return new Show.Footer;\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n});\n","var App;\n\nApp = require('application');\n\nmodule.exports = App.module('HeaderApp', function(HeaderApp, App, Backbone, Marionette, $, _) {\n  var API;\n  HeaderApp.startWithParent = false;\n  HeaderApp.List = require('modules/header/list/list_controller');\n  API = {\n    listHeader: function() {\n      var listController;\n      return listController = new HeaderApp.List.Controller({\n        region: App.headerRegion\n      });\n    }\n  };\n  return HeaderApp.on('start', function() {\n    return API.listHeader();\n  });\n});\n","var App, HeaderApp,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nHeaderApp = require('modules/header/header_app');\n\nmodule.exports = App.module('HeaderApp.List', function(List, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1, _ref2;\n  List.Header = (function(_super) {\n    __extends(Header, _super);\n\n    function Header() {\n      _ref = Header.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Header.prototype.template = \"modules/header/list/templates/header\";\n\n    Header.prototype.tagName = \"li\";\n\n    Header.prototype.events = {\n      'click': 'nav'\n    };\n\n    Header.prototype.nav = function(e) {\n      var route;\n      e.preventDefault();\n      route = this.model.get('path');\n      if (route.substring(0, 4) === \"http\") {\n        return window.open(route);\n      } else {\n        return App.navigate(route, {\n          trigger: true\n        });\n      }\n    };\n\n    return Header;\n\n  })(Marionette.ItemView);\n  List.Headers = (function(_super) {\n    __extends(Headers, _super);\n\n    function Headers() {\n      _ref1 = Headers.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Headers.prototype.template = 'modules/header/list/templates/headers';\n\n    Headers.prototype.itemView = List.Header;\n\n    Headers.prototype.itemViewContainer = \"ul.links\";\n\n    Headers.prototype.events = {\n      \"click a#home\": \"home\"\n    };\n\n    Headers.prototype.onRender = function() {\n      var _this = this;\n      $(document).on('open', '#feedback', function() {\n        ga('send', 'event', 'click', 'open feedback');\n        $(\"a#clear\").on(\"click\", function(e) {\n          ga('send', 'event', 'click', 'clear feedback');\n          $(\"input, textarea\").val('');\n          $(\"form div\").removeClass(\"error\");\n          $(\"form label\").removeClass(\"error\");\n          return $(\"form\")[0].reset();\n        });\n        return $(\"#feedback-form\").on(\"invalid\", function() {\n          var invalid_fields;\n          invalid_fields = $(this).find(\"[data-invalid]\");\n          return ga('send', 'event', 'form', 'feedback form invalid');\n        }).on(\"valid\", Foundation.utils.debounce(function(e) {\n          return _this.send(e);\n        }, 300, true));\n      });\n      return $(document).on('close', '#feedback', function() {\n        $(\"div#alert-container\").fadeOut();\n        $(\"form div\").removeClass(\"error\");\n        $(\"form label\").removeClass(\"error\");\n        return $(\"form\")[0].reset();\n      });\n    };\n\n    Headers.prototype.send = function(e) {\n      e.preventDefault();\n      return $.post(\"/api/feedback\", $(\"#feedback-form\").serialize(), function(data) {\n        ga('send', 'event', 'submit', 'submit feedback');\n        $(\"input, textarea\").val('');\n        return $(\"div#alert-container\").fadeIn('slow').removeClass(\"hide\");\n      });\n    };\n\n    Headers.prototype.home = function(e) {\n      var route;\n      e.preventDefault();\n      route = \"home\";\n      return App.navigate(route, {\n        trigger: true\n      });\n    };\n\n    Headers.prototype.clear = function(e) {\n      e.preventDefault();\n      return console.log(\"clicked\");\n    };\n\n    return Headers;\n\n  })(Marionette.CompositeView);\n  return List.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      _ref2 = Controller.__super__.constructor.apply(this, arguments);\n      return _ref2;\n    }\n\n    Controller.prototype.initialize = function() {\n      this.listHeader();\n      return $(document).foundation();\n    };\n\n    Controller.prototype.listHeader = function() {\n      var headerView, links;\n      links = App.request(\"header:entities\");\n      window.links = links;\n      headerView = this.getHeaderView(links);\n      return this.show(headerView);\n    };\n\n    Controller.prototype.getHeaderView = function(links) {\n      return new List.Headers({\n        collection: links\n      });\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n});\n","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"<a><i class=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"icon\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></i>  \"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"feedback\\\" class=\\\"reveal-modal small\\\" data-reveal>\\n  <h2>Thanks for trying out ChartZapp!</h2>\\n  <p class=\\\"lead\\\">The project is currently under active development,\\n    and I'd love to hear your thoughts about it!</p>\\n    <div class=\\\"hide\\\" id=\\\"alert-container\\\">\\n      <div data-alert id=\\\"success\\\" class=\\\"hide alert-box success radius\\\">\\n        Thanks for your feedback!\\n        <a href=\\\"#\\\" class=\\\"close\\\">&times;</a>\\n      </div>\\n    </div>\\n  <form id=\\\"feedback-form\\\" data-abide=\\\"ajax\\\">\\n    <div class=\\\"name-field\\\">\\n      <input type=\\\"text\\\" placeholder=\\\"Name\\\" id=\\\"name\\\" name=\\\"name\\\" required></input>\\n      <small class=\\\"error\\\">Please enter your name</small>\\n    </div>\\n    <div class=\\\"email-field\\\">\\n      <input type=\\\"email\\\" placeholder=\\\"Email\\\" id=\\\"email\\\" name=\\\"email\\\" required></input>\\n      <small class=\\\"error\\\">I can't respond without your email!</small>\\n    </div>\\n    <div class=\\\"message-field\\\">\\n      <textarea id=\\\"message\\\" placeholder=\\\"Thoughts...\\\" rows=\\\"10\\\" name=\\\"message\\\" required></textarea>\\n      <small class=\\\"error\\\">A message is kind of the point...</small>\\n    </div>\\n    <button id=\\\"form-submit\\\" type=\\\"submit\\\">Submit</button>\\n    <a class=\\\"button secondary\\\" id=\\\"clear\\\">Clear</a>\\n  </form>\\n  <a class=\\\"close-reveal-modal\\\">&#215;</a>\\n</div>\\n\\n<div class=\\\"fixed\\\">\\n  <nav class=\\\"top-bar\\\" data-topbar>\\n    <ul class=\\\"title-area\\\">\\n      <li class=\\\"name\\\"><h1><a id=\\\"home\\\">!earshot :: ChartZapp!</a></h1></li>\\n      <li class=\\\"toggle-topbar menu-icon\\\"><a href=\\\"#\\\"></a></li>\\n    </ul>\\n    <section class=\\\"top-bar-section\\\">\\n      <ul class=\\\"right links\\\">\\n        <li class=\\\"has-form right\\\">\\n          <a href=\\\"#\\\" class=\\\"button radius\\\" data-reveal-id=\\\"feedback\\\"><i class=\\\"fi-mail\\\"></i> Feedback!</a>\\n        </li>\\n      </ul>\\n    </section>\\n  </nav>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var App,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nmodule.exports = App.module('LandingApp', function(LandingApp, App, Backbone, Marionette, $, _) {\n  var API, _ref;\n  LandingApp.Router = (function(_super) {\n    __extends(Router, _super);\n\n    function Router() {\n      _ref = Router.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Router.prototype.appRoutes = {\n      \"home\": \"landing\"\n    };\n\n    return Router;\n\n  })(Marionette.AppRouter);\n  LandingApp.startWithParent = false;\n  LandingApp.Show = require('modules/landing/showLanding/showLanding_controller');\n  API = {\n    landing: function() {\n      new LandingApp.Show.Controller({\n        region: App.mainRegion\n      });\n      return $(document).foundation();\n    }\n  };\n  return App.addInitializer(function() {\n    return new LandingApp.Router({\n      controller: API\n    });\n  });\n});\n","var App, slugify, tuesify;\n\nApp = require(\"application\");\n\nslugify = function(Text) {\n  var isNumber;\n  isNumber = function(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  };\n  if (isNumber(Text.charAt(0))) {\n    Text = \"_\" + Text;\n  }\n  return Text.toLowerCase().replace(RegExp(\" \", \"g\"), \"-\").replace(/[^\\w-]+/g, \"\");\n};\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\nmodule.exports = function(el, collection, view) {\n  var aByL, albums, arc, bA, click, color, g, height, lA, labelPie, labels, margin, mouseout, mouseover, others, radius, showData, showEmpty, svg, tA, topLabels, width;\n  margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  width = ($(\"#circles-region\").width() - margin.left - margin.right) / 3;\n  height = 500 - margin.top - margin.bottom;\n  radius = Math.min(width, height) / 2;\n  color = require('colorList');\n  arc = d3.svg.arc().outerRadius(radius - 10).innerRadius(radius - 100);\n  labelPie = d3.layout.pie().sort(null).value(function(d) {\n    return d.chartScore;\n  });\n  svg = d3.select(el).select(\"#labels\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\" + (width / 2) + \", \" + (height / 2) + \")\");\n  albums = collection.models;\n  labels = {};\n  lA = [];\n  aByL = {};\n  _.each(albums, function(album) {\n    var label;\n    if (album.attributes.album !== '') {\n      label = album.get('label');\n      if (aByL[label]) {\n        aByL[label].push(album.get('album'));\n      } else {\n        aByL[label] = [album.get('album')];\n      }\n      if (labels[label]) {\n        return _.each(album.attributes.appearances, function(ap) {\n          return labels[label].push(ap);\n        });\n      } else {\n        labels[label] = [];\n        return _.each(album.attributes.appearances, function(ap) {\n          return labels[label].push(ap);\n        });\n      }\n    }\n  });\n  _.each(aByL, function(ar, l) {\n    return ar = _.uniq(ar);\n  });\n  _.each(labels, function(array, label) {\n    return lA.push({\n      label: label,\n      appearances: array,\n      albums: aByL[label]\n    });\n  });\n  _.each(lA, function(label) {\n    label.chartScore = 0;\n    return _.each(label.appearances, function(ap) {\n      return label.chartScore += 31 - +ap.position;\n    });\n  });\n  lA = lA.sort(function(a, b) {\n    a = a.chartScore;\n    b = b.chartScore;\n    if (a === b) {\n      return 0;\n    }\n    if (a > b) {\n      return -1;\n    } else {\n      return 1;\n    }\n  });\n  tA = lA.slice(0, 30);\n  bA = lA.slice(30);\n  topLabels = [];\n  others = {\n    labels: [],\n    chartScore: 0,\n    label: \"\",\n    appearances: [],\n    albums: []\n  };\n  _.each(bA, function(label) {\n    others.labels.push(label.label);\n    others.albums.push(label.albums);\n    return _.each(label.appearances, function(ap) {\n      return others.appearances.push(ap);\n    });\n  });\n  _.each(tA, function(label) {\n    return topLabels.push(label);\n  });\n  others.label = \"\" + others.labels.length + \" Others\";\n  others.albums = _.flatten(others.albums);\n  _.each(others.appearances, function(ap) {\n    return others.chartScore += 31 - ap.position;\n  });\n  topLabels.push(others);\n  mouseover = function(d, i) {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g .\" + (slugify(d.data.label))).transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d) {\n    var artist;\n    artist = d.attributes.artist;\n    return view.trigger(\"click:album:circle\", artist);\n  };\n  showData = function(circle, d) {\n    var chartTip, coord;\n    coord = d3.mouse(circle);\n    $(\"#labels\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"right\", 1.25 + \"rem\").style(\"top\", 50 + \"px\").style(\"background\", color(d.data.label));\n    $(\".tip\").html(\"\" + d.data.label + \"<br />\\n# of Albums: \" + d.data.albums.length + \"<br />\\n# of Appearances: \" + d.data.appearances.length + \"<br />\\nChartscore: \" + d.data.chartScore);\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  g = svg.selectAll(\".arc\").data(labelPie(topLabels)).enter().append(\"g\").attr(\"class\", function(d) {\n    return \"arc \" + (slugify(d.data.label));\n  });\n  g.append(\"path\").attr(\"d\", arc).style(\"fill\", function(d) {\n    return color(d.data.label);\n  });\n  g.on(\"mouseover\", mouseover).on('mouseout', mouseout);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","var App, tuesify;\n\nApp = require(\"application\");\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\nmodule.exports = function(el, collection, view) {\n  var albumCircles, albums, click, color, height, hideInfo, margin, mouseout, mouseover, rScale, showData, showEmpty, showInfo, svg, width, x, xAxis, y, yAxis;\n  margin = {\n    top: 100,\n    right: 120,\n    bottom: 50,\n    left: 50\n  };\n  width = $(\"#graph-region\").width() - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  y = d3.scale.linear().range([0, height]);\n  x = d3.scale.linear().range([0, width - 100]);\n  color = require('colorList');\n  xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n  yAxis = d3.svg.axis().scale(y).orient(\"left\");\n  svg = d3.select(el).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + (margin.left + 20) + \",\" + margin.top + \")\");\n  albums = collection.models;\n  albums = albums.slice(0, 30);\n  rScale = d3.scale.linear();\n  rScale.domain(d3.extent(albums, function(c) {\n    return c.attributes.frontPoints;\n  }));\n  rScale.range([5, 130]);\n  y.domain([\n    d3.max(albums, function(c) {\n      return c.attributes.appearances.length;\n    }), d3.min(albums, function(c) {\n      return c.attributes.appearances.length;\n    })\n  ]);\n  x.domain(d3.extent(albums, function(c) {\n    return c.attributes.frontPoints;\n  }));\n  svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis);\n  if (albums.length !== 0) {\n    svg.append(\"g\").attr(\"class\", \"y axis\").attr(\"transform\", \"translate(-10,0)\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \".71em\").style(\"text-anchor\", \"end\").text(\"# of Appearances\");\n  }\n  mouseover = function(d, i) {\n    d3.selectAll(\"g circle\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g .\" + d.attributes.slug).transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g circle\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d) {\n    var artist;\n    artist = d.attributes.artist;\n    return view.trigger(\"click:album:circle\", artist);\n  };\n  showData = function(circle, d) {\n    var chartTip, coord;\n    coord = d3.mouse(circle);\n    $(\"#graph\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"left\", 150 + \"px\").style(\"top\", 50 + \"px\").style(\"background\", color(d.attributes.rank));\n    $(\".tip\").html(\"#\" + d.attributes.rank + \": \" + d.attributes.artist + \" <br />\\n\" + d.attributes.album + \"<br />\\nTotal Appearances: \" + d.attributes.appearances.length + \"<br />\\nChartscore: \" + d.attributes.frontPoints + \"<br />\\nFirst Appearance: \" + d.attributes.firstWeek + \"<br />\\nAppeared on \" + d.attributes.stations.length + \" / \" + d.attributes.totalStations + \" stations\");\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  showInfo = function() {\n    if ($(el).find(\".tip\").length !== 0) {\n      return $(\".info\").remove();\n    } else {\n      return $(el).append(\"<div class='tip text-center info'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 3 + \"px\").html(\"<br />\\nThis graph displays the top albums for all stations over the selected time range.<br />\\nThe X-Axis and the Radius of each circle is determined by the album's Chartscore.<br />\\nThe Y-Axis is determined by the album's total number of appearances.<br />\\n<br />\\nMouseover any circle for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\").on(\"click\", hideInfo).fadeIn(100);\n    }\n  };\n  hideInfo = function() {\n    $(el).find(\".info\").fadeOut(100);\n    return $(\".info\").remove();\n  };\n  $(el).prepend(\"<div class='button tiny radius infobox'></div>\").find(\".infobox\").html(\"<i class='fi-info large'></i>\").on(\"click\", showInfo);\n  $(el).find(\"svg\").on(\"click\", hideInfo);\n  albumCircles = svg.selectAll(\"circle\").data(albums).enter().append(\"circle\").attr(\"fill\", function(d) {\n    return color(d.attributes.rank);\n  }).attr(\"class\", function(d) {\n    return \"dot \" + d.attributes.slug;\n  }).attr(\"cy\", function(d) {\n    var num;\n    num = d.attributes.appearances.length;\n    return y(num);\n  }).attr(\"cx\", function(d, i) {\n    return x(d.attributes.frontPoints);\n  }).attr(\"r\", function(d) {\n    return rScale(d.attributes.frontPoints);\n  });\n  albumCircles.on(\"mouseover\", mouseover).on(\"mouseout\", mouseout).on(\"click\", click);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","var App, slugify, tuesify;\n\nApp = require(\"application\");\n\nslugify = function(Text) {\n  var isNumber;\n  isNumber = function(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  };\n  if (isNumber(Text.charAt(0))) {\n    Text = \"_\" + Text;\n  }\n  return Text.toLowerCase().replace(RegExp(\" \", \"g\"), \"-\").replace(/[^\\w-]+/g, \"\");\n};\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\nmodule.exports = function(el, collection, view) {\n  var albums, arc, click, color, g, height, margin, mouseout, mouseover, newPie, oldVNew, pie, radius, showData, showEmpty, svg, width;\n  margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50,\n    gutter: 30\n  };\n  width = ($(\"#circles-region\").width() - margin.left - margin.right) / 3 - (margin.gutter * 4);\n  height = 500 - margin.top - margin.bottom;\n  radius = Math.min(width, height) / 2;\n  color = require('colorList');\n  arc = d3.svg.arc().outerRadius(radius - 10).innerRadius(0);\n  pie = d3.layout.pie().value(function(d) {\n    return d.length;\n  });\n  newPie = d3.layout.pie().value(function(d) {\n    return d.length;\n  });\n  svg = d3.select(el).select(\"#newAlbums\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\" + (width / 2 + margin.gutter * 1.75) + \", \" + (height / 2) + \")\");\n  albums = collection.models;\n  oldVNew = [];\n  oldVNew[0] = _.filter(albums, function(album) {\n    return _.indexOf(collection.potentialA, album.attributes.firstWeek) !== -1;\n  });\n  oldVNew[1] = _.filter(albums, function(album) {\n    return _.indexOf(collection.potentialA, album.attributes.firstWeek) === -1;\n  });\n  _.each(oldVNew, function(array) {\n    return array.sort(function(a, b) {\n      a = a.get('frontPoints');\n      b = b.get('frontPoints');\n      if (a === b) {\n        return 0;\n      }\n      if (a > b) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n  });\n  mouseover = function(d, i) {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g ._\" + i).transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d, i);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d, i) {\n    var $this, choice;\n    $this = d3.select(this);\n    if ($this.classed(\"arc _0\")) {\n      if ($this.classed(\"selected\")) {\n        view.trigger(\"switch:all\");\n        $this.attr(\"class\", \"arc _0\");\n      } else {\n        view.trigger(\"switch:debuts\");\n        $this.attr(\"class\", \"arc _0 selected\");\n        d3.select(\"g ._1\").attr(\"class\", \"arc _1\");\n      }\n    } else {\n      view.trigger(\"switch:all\");\n      d3.select(\"g ._0\").attr(\"class\", \"arc _0\");\n    }\n    return choice = [\"debuts\", \"all\"];\n  };\n  showData = function(circle, d, i) {\n    var chartTip, coord;\n    coord = d3.mouse(circle);\n    $(\"#newAlbums\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"right\", 1.25 + \"rem\").style(\"top\", 50 + \"px\").style(\"background\", color(i));\n    $(\".tip\").html(\"\" + (i === 0 ? \"New This Week\" : \"Previously Appeared\") + \"<br />\\nAlbums: \" + d.data.length + \"<br />\\n\" + ((+d.data.length / +albums.length * 100).toFixed(0)) + \"%<br />\\n#1: \" + (d.data[0].get('artist')) + \" - \" + (d.data[0].get('album')));\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  g = svg.selectAll(\".arc\").data(pie(oldVNew)).enter().append(\"g\").attr(\"class\", function(d, i) {\n    return \"arc _\" + i;\n  });\n  g.append(\"path\").attr(\"d\", arc).style(\"fill\", function(d, i) {\n    return color(i);\n  });\n  g.on(\"mouseover\", mouseover).on('mouseout', mouseout).on('click', click);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","var App, slugify, tuesify;\n\nApp = require(\"application\");\n\nslugify = function(Text) {\n  var isNumber;\n  isNumber = function(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  };\n  if (isNumber(Text.charAt(0))) {\n    Text = \"_\" + Text;\n  }\n  return Text.toLowerCase().replace(RegExp(\" \", \"g\"), \"-\").replace(/[^\\w-]+/g, \"\");\n};\n\ntuesify = function(date) {\n  var theDay, theTues, theWeek;\n  theWeek = (function() {\n    switch (false) {\n      case !date:\n        return moment(date);\n      default:\n        return moment();\n    }\n  })();\n  theDay = theWeek.get('day');\n  theTues = (function() {\n    switch (false) {\n      case theDay !== 0:\n        return theWeek.day(-5);\n      case theDay !== 1:\n        return theWeek.day(-5);\n      case theDay !== 2:\n        return theWeek;\n      case !(theDay > 2):\n        return theWeek.day(2);\n    }\n  })();\n  theTues = moment(theTues);\n  return theTues.format('YYYY-MM-DD');\n};\n\nmodule.exports = function(el, collection, view) {\n  var albums, arc, click, color, data, g, height, margin, mouseout, mouseover, pie, radius, showData, showEmpty, stations, svg, width;\n  margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  width = $(\"#circles-region\").width() / 3 - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  radius = Math.min(width, height) / 2;\n  color = require('colorList');\n  arc = d3.svg.arc().outerRadius(radius - 10).innerRadius(radius - 30);\n  pie = d3.layout.pie().value(function(d) {\n    return d;\n  });\n  svg = d3.select(el).select(\"#reporting\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\" + (width / 2 + 30) + \", \" + (height / 2) + \")\");\n  albums = collection.models;\n  stations = collection.stations;\n  data = [stations.length, 49 - stations.length];\n  mouseover = function(d, i) {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g ._\" + d.data).transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d, i);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g.arc\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d) {\n    var artist;\n    artist = d.attributes.artist;\n    return view.trigger(\"click:album:circle\", artist);\n  };\n  showData = function(circle, d, i) {\n    var chartTip, coord;\n    coord = d3.mouse(circle);\n    $(\"#reporting\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"right\", 1.25 + \"rem\").style(\"top\", 50 + \"px\").style(\"background\", color(i));\n    $(\".tip\").html(\"\" + (i === 0 ? \"Reporting Stations\" : \"Not Reporting\") + \"<br />\\nStations: \" + d.data + \"<br />\\n\" + ((+d.data / 49 * 100).toFixed(0)) + \"%\\n\");\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  g = svg.selectAll(\".arc\").data(pie(data)).enter().append(\"g\").attr(\"class\", function(d, i) {\n    return \"arc _\" + d.data;\n  });\n  g.append(\"path\").attr(\"d\", arc).style(\"fill\", function(d, i) {\n    return color(i);\n  });\n  g.on(\"mouseover\", mouseover).on('mouseout', mouseout);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","var App, Controllers,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nApp = require(\"application\");\n\nControllers = require(\"controllers/baseController\");\n\nmodule.exports = App.module('LandingApp.Show', function(Show, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n  Show.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      _ref = Controller.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Controller.prototype.initialize = function(opts) {\n      var stations,\n        _this = this;\n      this.layout = this.getLayoutView();\n      stations = App.request(\"stations:entities\");\n      this.startDate = '';\n      this.endDate = '';\n      this.request = '';\n      this.number = 30;\n      this.listenTo(this.layout, 'show', function() {\n        _this.showChart();\n        return _this.showList(stations);\n      });\n      this.listenTo(this.layout, 'change:time', function(time) {\n        var search;\n        search = {};\n        search.request = time;\n        _this.request = time;\n        return _this.showChart(search);\n      });\n      this.listenTo(this.layout, 'change:number', function(number) {\n        _this.number = number;\n        topCharts.trigger(\"filter\");\n        return _this.showChart(number);\n      });\n      this.show(this.layout, {\n        loading: true\n      });\n      return $(document).foundation();\n    };\n\n    Controller.prototype.showChart = function(search) {\n      var chartView, lCharts, startDate, topCharts,\n        _this = this;\n      if (search == null) {\n        search = {};\n      }\n      startDate = moment();\n      if (startDate.day() === 2) {\n        startDate.day(-5);\n        if (!search.endDate) {\n          search.endDate = startDate;\n        }\n      }\n      if (!search.startDate) {\n        search.startDate = startDate;\n      }\n      topCharts = App.request('topx:entities', search);\n      lCharts = topCharts.clone();\n      chartView = this.getChartView(lCharts);\n      this.showGraph(topCharts);\n      this.showInfo(topCharts);\n      if (search.request) {\n        this.show(chartView, {\n          region: this.layout.tableRegion,\n          loading: {\n            loadingType: \"opacity\"\n          }\n        });\n      } else {\n        this.show(chartView, {\n          region: this.layout.tableRegion,\n          loading: true\n        });\n      }\n      App.execute(\"when:fetched\", topCharts, function() {\n        topCharts.initializeFilters();\n        topCharts.sort();\n        lCharts.initializeFilters();\n        lCharts.set(topCharts.first(_this.number));\n        return $(document).foundation();\n      });\n      return topCharts.on(\"filter\", function() {\n        return lCharts.reset(topCharts.first(this.number));\n      });\n    };\n\n    Controller.prototype.showInfo = function(topCharts) {\n      var infoView,\n        _this = this;\n      infoView = this.getInfoView(topCharts);\n      this.listenTo(infoView, 'change:range', function(time) {\n        var search, string;\n        search = {};\n        search.request = 1;\n        _this.request = '';\n        search.number = _this.number;\n        search.startDate = moment(time.date1);\n        _this.startDate = search.startDate;\n        search.endDate = moment(time.date2);\n        _this.endDate = search.endDate;\n        console.log(search);\n        string = \"\" + (search.startDate.format('YYYY-MM-DD')) + \" - \" + (search.endDate.format('YYYY-MM-DD'));\n        ga('send', 'event', 'change:date', string);\n        return _this.showChart(search);\n      });\n      this.listenTo(infoView, 'click:week', function(req) {\n        var currentWeek, now, reqWeek, search;\n        currentWeek = moment(req.week);\n        now = moment();\n        switch (req.dir) {\n          case \"next\":\n            reqWeek = currentWeek.day(9);\n            if (reqWeek > now) {\n              reqWeek = now;\n            }\n            break;\n          case \"prev\":\n            reqWeek = currentWeek.day(-5);\n            break;\n          default:\n            reqWeek = currentWeek;\n        }\n        search = {\n          startDate: reqWeek.format(\"YYYY-MM-DD\"),\n          endDate: reqWeek.format('YYYY-MM-DD')\n        };\n        return _this.showChart(search);\n      });\n      return this.show(infoView, {\n        region: this.layout.infoRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.showSearch = function(stations) {\n      var searchView;\n      searchView = this.getSearchView(stations);\n      this.listenTo(searchView, 'click:search', function(newSearch) {\n        switch (newSearch.kind) {\n          case \"artist\":\n            return App.navigate(\"/artist/\" + newSearch.keyword, {\n              trigger: true\n            });\n          case \"station\":\n            return App.navigate(\"/station/\" + newSearch.keyword, {\n              trigger: true\n            });\n        }\n      });\n      this.show(searchView, {\n        region: this.layout.searchRegion,\n        loading: true\n      });\n      return $(document).foundation();\n    };\n\n    Controller.prototype.showGraph = function(topCharts) {\n      var circlesView, graphView;\n      graphView = this.getGraphView(topCharts);\n      circlesView = this.getCirclesView(topCharts);\n      this.listenTo(graphView, 'click:album:circle', function(d) {\n        return App.navigate(\"/artist/\" + (encodeURIComponent(d)), {\n          trigger: true\n        });\n      });\n      this.listenTo(circlesView, 'switch:debuts', function(d) {\n        var newFilters;\n        topCharts.resetFilters();\n        newFilters = [];\n        if (topCharts.potentialA.length > 1) {\n          _.each(topCharts.potentialA, function(week) {\n            return newFilters.push({\n              firstWeek: week\n            });\n          });\n          return topCharts.addFilters(newFilters);\n        } else {\n          return topCharts.addFilter({\n            firstWeek: topCharts.potentialA[0]\n          });\n        }\n      });\n      this.listenTo(circlesView, 'switch:all', function() {\n        return topCharts.resetFilters();\n      });\n      this.show(graphView, {\n        region: this.layout.graphRegion,\n        loading: true\n      });\n      return this.show(circlesView, {\n        region: this.layout.circlesRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.showList = function(stations) {\n      var listView;\n      listView = this.getListView(stations);\n      return this.show(listView, {\n        region: this.layout.listRegion,\n        loading: true\n      });\n    };\n\n    Controller.prototype.getSearchView = function(stations) {\n      return new Show.Search({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getLayoutView = function() {\n      return new Show.Layout;\n    };\n\n    Controller.prototype.getGraphView = function(topCharts) {\n      return new Show.Graph({\n        collection: topCharts\n      });\n    };\n\n    Controller.prototype.getCirclesView = function(topCharts) {\n      return new Show.Circles({\n        collection: topCharts\n      });\n    };\n\n    Controller.prototype.getListView = function(stations) {\n      return new Show.StationList({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getInfoView = function(topCharts) {\n      return new Show.Info({\n        model: new Backbone.Model(topCharts)\n      });\n    };\n\n    Controller.prototype.getChartView = function(topCharts) {\n      return new Show.Chart({\n        collection: topCharts\n      });\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n  Show.Layout = (function(_super) {\n    __extends(Layout, _super);\n\n    function Layout() {\n      _ref1 = Layout.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Layout.prototype.template = \"modules/landing/showLanding/templates/show_layout\";\n\n    Layout.prototype.id = \"landing-page\";\n\n    Layout.prototype.ui = {\n      \"timeSelect\": \"#time-select\",\n      \"range\": \"input#custom-range\",\n      \"icon\": \"i#custom-range\",\n      \"number\": \"#number\"\n    };\n\n    Layout.prototype.events = {\n      \"change @ui.timeSelect\": \"select\",\n      \"change @ui.number\": \"changeNumber\"\n    };\n\n    Layout.prototype.changeNumber = function(e) {\n      return this.trigger('change:number', this.ui.number.val());\n    };\n\n    Layout.prototype.select = function(e) {\n      return this.trigger('change:time', this.ui.timeSelect.val());\n    };\n\n    Layout.prototype.regions = {\n      titleRegion: \"#title_region\",\n      blurbRegion: \"#blurb_region\",\n      infoRegion: \"#info-region\",\n      graphRegion: \"#graph-region\",\n      circlesRegion: \"#circles-region\",\n      tableRegion: \"#table_region\",\n      listRegion: \"#list_region\"\n    };\n\n    return Layout;\n\n  })(Marionette.Layout);\n  Show.Info = (function(_super) {\n    __extends(Info, _super);\n\n    function Info() {\n      _ref2 = Info.__super__.constructor.apply(this, arguments);\n      return _ref2;\n    }\n\n    Info.prototype.template = \"modules/landing/showLanding/templates/info\";\n\n    Info.prototype.ui = {\n      \"timeSelect\": \"#time-select\",\n      \"range\": \"input#custom-range\",\n      \"icon\": \"i#custom-range\",\n      \"number\": \"#number\",\n      \"text\": \"#text\"\n    };\n\n    Info.prototype.events = {\n      'click .next': 'clickNext'\n    };\n\n    Info.prototype.clickNext = function(e) {\n      var request;\n      e.preventDefault();\n      request = {\n        week: $(e.target).data(\"week\"),\n        dir: e.target.id\n      };\n      return this.trigger('click:week', request);\n    };\n\n    Info.prototype.onRender = function() {\n      var _this = this;\n      this.ui.text.on(\"click\", function(e) {\n        e.stopPropagation();\n        return _this.ui.icon.click();\n      });\n      return this.ui.icon.dateRangePicker({\n        startDate: \"2014-01-01\",\n        endDate: moment(),\n        batchMode: false,\n        shortcuts: {\n          'prev': ['week', 'month', 'year'],\n          'prev-days': [7, 14],\n          'next-days': false,\n          'next': false\n        }\n      }).bind('datepicker-change', function(event, obj) {\n        return _this.trigger('change:range', obj);\n      });\n    };\n\n    return Info;\n\n  })(Marionette.ItemView);\n  Show.Search = (function(_super) {\n    __extends(Search, _super);\n\n    function Search() {\n      _ref3 = Search.__super__.constructor.apply(this, arguments);\n      return _ref3;\n    }\n\n    Search.prototype.template = \"modules/landing/showLanding/templates/search\";\n\n    Search.prototype.ui = {\n      'searchInput': '#search_input',\n      'kind': '#kind_input'\n    };\n\n    Search.prototype.events = {\n      'submit': 'submit'\n    };\n\n    Search.prototype.submit = function(e) {\n      var search;\n      e.preventDefault();\n      search = {};\n      search.keyword = $.trim(this.ui.searchInput.val());\n      search.kind = $.trim(this.ui.kind.val());\n      return this.trigger('click:search', search);\n    };\n\n    return Search;\n\n  })(Marionette.ItemView);\n  Show.Graph = (function(_super) {\n    __extends(Graph, _super);\n\n    function Graph() {\n      _ref4 = Graph.__super__.constructor.apply(this, arguments);\n      return _ref4;\n    }\n\n    Graph.prototype.template = \"modules/landing/showLanding/templates/graph\";\n\n    Graph.prototype.buildGraph = require(\"modules/landing/showLanding/landingGraph\");\n\n    Graph.prototype.graph = function() {\n      return this.buildGraph(this.el, this.collection, this);\n    };\n\n    Graph.prototype.id = \"graph\";\n\n    Graph.prototype.initialize = function() {\n      return this.collection.on(\"filter\", this.render);\n    };\n\n    Graph.prototype.onRender = function() {\n      if (matchMedia(Foundation.media_queries['medium']).matches) {\n        return this.graph();\n      }\n    };\n\n    return Graph;\n\n  })(Marionette.ItemView);\n  Show.Circles = (function(_super) {\n    __extends(Circles, _super);\n\n    function Circles() {\n      _ref5 = Circles.__super__.constructor.apply(this, arguments);\n      return _ref5;\n    }\n\n    Circles.prototype.template = \"modules/landing/showLanding/templates/circles\";\n\n    Circles.prototype.newAlbums = require('modules/landing/showLanding/newAlbumsGraph');\n\n    Circles.prototype.labelsGraph = require('modules/landing/showLanding/labelsGraph');\n\n    Circles.prototype.reportingGraph = require('modules/landing/showLanding/reportingGraph');\n\n    Circles.prototype.className = \"text-center\";\n\n    Circles.prototype.id = \"circles\";\n\n    Circles.prototype.labels = function() {\n      this.$el.find(\"#labels\").find(\"svg\").remove();\n      return this.labelsGraph(this.el, this.collection, this);\n    };\n\n    Circles.prototype.initialize = function() {\n      var _this = this;\n      return this.collection.on(\"filter\", function() {\n        return _this.labels();\n      });\n    };\n\n    Circles.prototype.graph = function() {\n      this.newAlbums(this.el, this.collection, this);\n      this.labelsGraph(this.el, this.collection, this);\n      return this.reportingGraph(this.el, this.collection, this);\n    };\n\n    Circles.prototype.onRender = function() {\n      if (matchMedia(Foundation.media_queries['medium']).matches) {\n        return this.graph();\n      }\n    };\n\n    return Circles;\n\n  })(Marionette.ItemView);\n  Show.StationList = (function(_super) {\n    __extends(StationList, _super);\n\n    function StationList() {\n      _ref6 = StationList.__super__.constructor.apply(this, arguments);\n      return _ref6;\n    }\n\n    StationList.prototype.template = \"modules/landing/showLanding/templates/stationList\";\n\n    StationList.prototype.className = \" small-12 columns\";\n\n    StationList.prototype.events = {\n      'click a': 'clickStation'\n    };\n\n    StationList.prototype.clickStation = function(e) {\n      e.preventDefault();\n      if ($(e.target).hasClass(\"button\")) {\n        return App.navigate(\"station/\", {\n          trigger: true\n        });\n      } else {\n        return App.navigate(\"station/\" + e.target.text, {\n          trigger: true\n        });\n      }\n    };\n\n    return StationList;\n\n  })(Marionette.ItemView);\n  Show.ChartItem = (function(_super) {\n    __extends(ChartItem, _super);\n\n    function ChartItem() {\n      _ref7 = ChartItem.__super__.constructor.apply(this, arguments);\n      return _ref7;\n    }\n\n    ChartItem.prototype.template = \"modules/landing/showLanding/templates/chartItem\";\n\n    ChartItem.prototype.tagName = 'tr';\n\n    ChartItem.prototype.initialize = function() {\n      return this.model = this.model.set({\n        index: this.options.index\n      });\n    };\n\n    ChartItem.prototype.events = {\n      'click a': 'clickItem'\n    };\n\n    ChartItem.prototype.clickItem = function(e) {\n      var artist;\n      e.preventDefault();\n      artist = encodeURIComponent(e.target.text);\n      return App.navigate(\"artist/\" + artist, {\n        trigger: true\n      });\n    };\n\n    return ChartItem;\n\n  })(Marionette.ItemView);\n  Show.Empty = (function(_super) {\n    __extends(Empty, _super);\n\n    function Empty() {\n      _ref8 = Empty.__super__.constructor.apply(this, arguments);\n      return _ref8;\n    }\n\n    Empty.prototype.template = \"modules/landing/showLanding/templates/empty\";\n\n    Empty.prototype.tagName = 'tr';\n\n    return Empty;\n\n  })(Marionette.ItemView);\n  return Show.Chart = (function(_super) {\n    __extends(Chart, _super);\n\n    function Chart() {\n      this.clickHeader = __bind(this.clickHeader, this);\n      _ref9 = Chart.__super__.constructor.apply(this, arguments);\n      return _ref9;\n    }\n\n    Chart.prototype.template = \"modules/landing/showLanding/templates/chart\";\n\n    Chart.prototype.itemView = Show.ChartItem;\n\n    Chart.prototype.emptyView = Show.Empty;\n\n    Chart.prototype.className = \"small-12 columns\";\n\n    Chart.prototype.itemViewContainer = \"#thecharts\";\n\n    Chart.prototype.itemViewOptions = function(model) {\n      return {\n        index: this.collection.indexOf(model) + 1\n      };\n    };\n\n    Chart.prototype.initialize = function() {};\n\n    Chart.prototype.events = {\n      'click th': 'clickHeader'\n    };\n\n    Chart.prototype.sortUpIcon = \"fi-arrow-down\";\n\n    Chart.prototype.sortDnIcon = \"fi-arrow-up\";\n\n    Chart.prototype.onRender = function() {\n      this.$(\"th\").append($(\"<i>\")).closest(\"th\").find(\"i\").addClass(\"fi-minus-circle size-18\");\n      this.$(\"[column='\" + this.collection.sortAttr + \"']\").find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      return this;\n    };\n\n    Chart.prototype.clickHeader = function(e) {\n      var $el, cs, ns;\n      $el = $(e.currentTarget);\n      ns = $el.attr(\"column\");\n      cs = this.collection.sortAttr;\n      if (ns === cs) {\n        this.collection.sortDir *= -1;\n      } else {\n        this.collection.sortDir = 1;\n      }\n      $(\"th\").find(\"i\").attr(\"class\", \"fi-minus-circle size-18\");\n      if (this.collection.sortDir === 1) {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      } else {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortDnIcon);\n      }\n      this.collection.sortCharts(ns);\n    };\n\n    return Chart;\n\n  })(Marionette.CompositeView);\n});\n","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"chart\\\">\\n  <table width=\\\"100%\\\" class=\\\"\\\">\\n    <thead>\\n      <th column='rank'>Rank </th>\\n      <th column=\\\"artist\\\">Artist </th>\\n      <th column=\\\"album\\\">Album </th>\\n      <th column=\\\"label\\\">Label </th>\\n  <!--     <th column=\\\"appearances\\\">Appearances </th> -->\\n    </thead>\\n    <tbody id=\\\"thecharts\\\">\\n    </tbody>\\n  </table>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return \"<td>\"\n    + escapeExpression(((helper = (helper = helpers.rank || (depth0 != null ? depth0.rank : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"rank\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n<td><a href=\\\"#\\\">\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0._id : depth0)) != null ? stack1.artist : stack1), depth0))\n    + \"</a></td>\\n<td>\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0._id : depth0)) != null ? stack1.album : stack1), depth0))\n    + \"</td>\\n<td>\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0._id : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</td>\\n<!-- <td>\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.appearances : depth0)) != null ? stack1.length : stack1), depth0))\n    + \"</td> -->\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"medium-4 columns\\\" id=\\\"labels\\\">\\n  <h1>Labels</h1>\\n</div>\\n<div class=\\\"medium-4 columns\\\" id=\\\"newAlbums\\\">\\n  <h1>Debuts</h1>\\n</div>\\n<div class=\\\"medium-4 columns\\\" id=\\\"reporting\\\">\\n  <h1>Reporting Stations</h1>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<td colspan='100%' class=\\\"text-center\\\"><strong>Sorry, Nothing Found.</strong></th>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"show-for-small-only\\\">\\n  <p class=\\\"lead\\\">For now, ChartZapp's graphs are only available on larger screens.</p>\\n  <p>If you'd like to see more on a mobile device,\\n  <a href=\\\"#\\\" data-reveal-id=\\\"feedback\\\">let me know!</a></p>\\n\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"  <div class=\\\"large-4 columns\\\">\\n    <ul class=\\\"inline-list right\\\">\\n      <li><a class=\\\"next\\\" data-week=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.week || (depth0 != null ? depth0.week : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"week\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" id=\\\"prev\\\"><i class=\\\"fi-arrow-left\\\"></i> Prev</a></li>\\n      <li><a class=\\\"next\\\" data-week=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.week || (depth0 != null ? depth0.week : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"week\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" id=\\\"next\\\">Next <i class=\\\"fi-arrow-right\\\"></i></a></li>\\n    </ul>\\n  </div>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = \"\\n<div class=\\\"row\\\">\\n  <div class=\\\"large-8 columns\\\">\\n    <h1 id=\\\"text\\\"><i id=\\\"custom-range\\\" class=\\\"fi-calendar fi-large\\\"></i> \"\n    + escapeExpression(((helper = (helper = helpers.desc || (depth0 != null ? depth0.desc : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"desc\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n  </div>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.week : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"  <!-- <div class=\\\"large-4 columns\\\">\\n    <div class=\\\"row collapse\\\">\\n      <div class=\\\"small-10 columns\\\">\\n        <input id=\\\"custom-range\\\" type=\\\"text\\\" placeholder=\\\"This Week\\\"></input>\\n      </div>\\n      <div class=\\\"small-2 columns\\\">\\n        <span class=\\\"postfix radius\\\"><i id=\\\"custom-range\\\" class=\\\"fi-calendar\\\"></i></span>\\n      </div>\\n    </div>\\n  </div> -->\\n<!-- </div> -->\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \"          <option value=\\\"\"\n    + escapeExpression(lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"\\\">\"\n    + escapeExpression(lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</option>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<!-- <div class=\\\"row\\\"> -->\\n<div class=\\\"panel radius\\\">\\n  <h3>Search</h3>\\n  <p>What are you waiting for? Search Away!</p>\\n  <form id=\\\"searchForm\\\" data-abide>\\n<!--     <div class=\\\"station-select\\\">\\n      <select form=\\\"#searchForm\\\" width=\\\"100%\\\" data-placeholder=\\\"Choose a Station...\\\" class=\\\"chosen-select\\\" id=\\\"search_input\\\">\\n        <option value=\\\"\\\"></option>\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.items : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"      </select>\\n    </div> -->\\n    <p>I'm looking for...</p>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"small-6 columns\\\">\\n        <input type=\\\"text\\\" id=\\\"search_input\\\"></input>\\n      </div>\\n      <div class=\\\"small-6 columns\\\">\\n        <select form=\\\"#searchForm\\\" id=\\\"kind_input\\\">\\n          <option value=\\\"artist\\\">an Artist</option>\\n          <option value=\\\"station\\\">a Station</option>\\n        </select>\\n      </div>\\n    </div>\\n      <button type=\\\"submit\\\">Search</button>\\n  </form>\\n</div>\\n<!-- </div> -->\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class='title-row' data-equalizer>\\n  <div class=\\\"row\\\" >\\n    <div id=\\\"title_region\\\" class=\\\"small-9 large-10 columns\\\" data-equalizer-watch>\\n    <!-- <div class=\\\"panel\\\"> -->\\n      <h1 class=\\\"main-title\\\">ChartZapp!</h1>\\n    </div>\\n    <div class=\\\"small-3 medium-1 large-1 end columns\\\" id=\\\"logos\\\" data-equalizer-watch>\\n      <div class=\\\"row\\\">\\n        <!-- <div class=\\\"small-6 columns\\\"><img src=\\\"img/earshot-logo.png\\\"></div>\\n        <div class=\\\"small-6 columns\\\"><img src=\\\"img/ncra-logo.png\\\"></div> -->\\n\\n        <a href=\\\"http://www.ncra.ca\\\" target=\\\"blank\\\"><img src=\\\"img/ncra-logo.png\\\"></a>\\n        <a href=\\\"http://www.earshot-online.com\\\" target=\\\"blank\\\"><img src=\\\"img/earshot-logo.png\\\"></a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div class='panel-row'>\\n  <div class=\\\"row\\\">\\n  <div id=\\\"blurb_region\\\" class=\\\"small-12 columns\\\">\\n    <p class=\\\"lead\\\">This is ChartZapp, a new way of analyzing Canadian\\n      Campus-Community Radio Charts.</p>\\n    <p>It's currently in Beta, and for now\\n      the database only extends to the beginning of 2014.</p>\\n      <p>If you have questions, suggestions, or find a bug, please\\n      <a href=\\\"#\\\" data-reveal-id=\\\"feedback\\\">let me know!</a>\\n      </p>\\n    </p>\\n  </div>\\n</div>\\n</div>\\n<div class=\\\"panel-row\\\">\\n  <div id=\\\"info-region\\\" class=\\\"small-12 columns\\\">\\n    <!-- <div class=\\\"panel\\\"> -->\\n\\n  </div>\\n</div>\\n<div class=\\\"graph-row\\\">\\n  <div id=\\\"graph-region\\\" class=\\\"small-12 columns\\\"></div>\\n</div>\\n<div class=\\\"panel-row\\\">\\n  <div id=\\\"circles-region\\\" class=\\\"small-12 columns\\\"></div>\\n</div>\\n\\n<div class=\\\"graph-row\\\">\\n  <div id=\\\"table_region\\\" class=\\\"row\\\"></div>\\n</div>\\n<div class=\\\"panel-row\\\">\\n  <div id=\\\"list_region\\\" class=\\\"row\\\"></div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \"  <li><a href=\\\"#\\\">\"\n    + escapeExpression(lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</a></li>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<ul class=\\\"inline-list text-justify\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.items : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</ul>\\n<div class=\\\"text-center\\\">\\n  <a href=\\\"#\\\" class=\\\"button\\\">See All Stations</a>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var App, Controllers, StationApp, colorList,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require(\"application\");\n\nStationApp = require(\"modules/station/station_app\");\n\nControllers = require(\"controllers/baseController\");\n\ncolorList = require('colorList');\n\nmodule.exports = App.module('StationApp.Show', function(Show, App, Backbone, Marionette, $, _) {\n  var _ref, _ref1, _ref10, _ref11, _ref12, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n  Show.Controller = (function(_super) {\n    __extends(Controller, _super);\n\n    function Controller() {\n      this.showRecent = __bind(this.showRecent, this);\n      this.mainView = __bind(this.mainView, this);\n      _ref = Controller.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Controller.prototype.initialize = function(opts) {\n      var station,\n        _this = this;\n      this.opts = opts;\n      this.opts.loadingType = \"spinner\";\n      this.layout = this.getLayoutView();\n      this.initStation = App.request('topx:entities', opts);\n      station = App.request('topx:entities', opts);\n      this.stations = App.request('stations:entities');\n      App.execute(\"when:fetched\", this.stations, function() {\n        return _this.stations.initializeFilters();\n      });\n      this.listenTo(this.layout, 'show', function() {\n        return _this.mainView(station);\n      });\n      return this.show(this.layout, {\n        loading: true\n      });\n    };\n\n    Controller.prototype.mainView = function(search) {\n      if (search == null) {\n        search = null;\n      }\n      if (search.station) {\n        return this.showStation(search);\n      } else {\n        return this.showStart(this.stations);\n      }\n    };\n\n    Controller.prototype.showRecent = function(search) {\n      var d, station, stationName;\n      stationName = search;\n      search = {};\n      search.station = stationName;\n      d = new Date;\n      search.startDate = d.yyyymmdd();\n      search.endDate = search.startDate;\n      station = App.request('topx:entities', search);\n      return this.showStation(station);\n    };\n\n    Controller.prototype.showStation = function(station) {\n      var stationView,\n        _this = this;\n      stationView = this.getStationView(station);\n      this.showPanel();\n      this.showGraph(station);\n      this.showTitle(station);\n      App.execute(\"when:fetched\", station, function() {\n        if (station.length === 0) {\n          return _this.showTitle(_this.initStation);\n        }\n      });\n      this.show(stationView, {\n        region: this.layout.tableRegion,\n        loading: {\n          loadingType: this.opts.loadingType\n        }\n      });\n      return this.listenTo(stationView, 'click:week', function(req) {\n        var currentWeek, newWeek, now, reqWeek, search;\n        _this.opts.loadingType = \"opacity\";\n        currentWeek = moment(req.week);\n        now = moment();\n        switch (req.dir) {\n          case \"next\":\n            reqWeek = currentWeek.day(9);\n            if (reqWeek > now) {\n              reqWeek = now;\n            }\n            break;\n          case \"prev\":\n            reqWeek = currentWeek.day(-5);\n            break;\n          default:\n            reqWeek = currentWeek;\n        }\n        search = {\n          station: _this.opts.station,\n          startDate: reqWeek.format(\"YYYY-MM-DD\"),\n          endDate: reqWeek.format('YYYY-MM-DD')\n        };\n        newWeek = App.request('topx:entities', search);\n        return _this.showStation(newWeek);\n      });\n    };\n\n    Controller.prototype.showTitle = function(station) {\n      var titleView;\n      titleView = this.getTitleView(station);\n      return this.show(titleView, {\n        region: this.layout.titleRegion,\n        loading: {\n          loadingType: this.opts.loadingType\n        }\n      });\n    };\n\n    Controller.prototype.showGraph = function(station) {\n      var graphView;\n      graphView = this.getGraphView(station);\n      this.listenTo(graphView, 'click:album:circle', function(d) {\n        return App.navigate(\"/artist/\" + (encodeURIComponent(d)), {\n          trigger: true\n        });\n      });\n      return this.show(graphView, {\n        region: this.layout.graphRegion,\n        loading: {\n          loadingType: this.opts.loadingType\n        }\n      });\n    };\n\n    Controller.prototype.showPanel = function() {\n      var panelView,\n        _this = this;\n      panelView = this.getPanelView();\n      this.show(panelView, {\n        region: this.layout.panelRegion\n      });\n      this.listenTo(panelView, 'click:mostRecent', function(station) {\n        _this.opts.loadingType = \"opacity\";\n        return _this.showRecent(_this.opts.station);\n      });\n      this.listenTo(panelView, 'click:thisYear', function(search) {\n        var station;\n        if (search == null) {\n          search = {};\n        }\n        _this.opts.loadingType = \"opacity\";\n        search.station = _this.opts.station;\n        search.startDate = moment().subtract(1, 'years');\n        search.endDate = moment;\n        station = App.request('topx:entities', search);\n        return _this.showStation(station);\n      });\n      return this.listenTo(panelView, 'click:other', function(search) {\n        var station;\n        _this.opts.loadingType = \"opacity\";\n        search.station = _this.opts.station;\n        station = App.request('topx:entities', search);\n        return _this.showStation(station);\n      });\n    };\n\n    Controller.prototype.showEmpty = function(stations) {\n      var emptyView;\n      emptyView = this.getEmptyView(stations);\n      this.show(emptyView, {\n        region: this.layout.tableRegion\n      });\n      $(\".chosen-select\").chosen();\n      return this.listenTo(emptyView, 'pick:station', function(search) {\n        return App.navigate(\"station/\" + search.station, {\n          trigger: true\n        });\n      });\n    };\n\n    Controller.prototype.showStart = function(stations) {\n      var graphView, startPanel, startTitle, startView;\n      startTitle = this.getStartTitle(stations);\n      startPanel = this.getStartPanel(stations);\n      graphView = this.getGraphView(stations);\n      this.show(graphView, {\n        region: this.layout.graphRegion,\n        loading: true\n      });\n      this.show(startTitle, {\n        region: this.layout.titleRegion,\n        loading: true\n      });\n      this.show(startPanel, {\n        region: this.layout.panelRegion,\n        loading: true\n      });\n      startView = this.getStartView(stations);\n      this.show(startView, {\n        region: this.layout.tableRegion,\n        loading: true\n      });\n      $(\".chosen-select\").chosen();\n      this.listenTo(startView, 'pick:station', function(search) {\n        return App.navigate(\"station/\" + search.station, {\n          trigger: true\n        });\n      });\n      return this.listenTo(startView, 'itemview:pick:station', function(item, search) {\n        return App.navigate(\"station/\" + search, {\n          trigger: true\n        });\n      });\n    };\n\n    Controller.prototype.getTitleView = function(station) {\n      return new Show.Title({\n        collection: station\n      });\n    };\n\n    Controller.prototype.getEmptyView = function(stations) {\n      return new Show.EmptyView({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getStartView = function(stations) {\n      return new Show.StartView({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getStationView = function(station) {\n      return new Show.Chart({\n        collection: station,\n        model: new App.Entities.Station(station)\n      });\n    };\n\n    Controller.prototype.getPanelView = function() {\n      return new Show.Panel;\n    };\n\n    Controller.prototype.getStartPanel = function(stations) {\n      return new Show.StartPanel({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getStartTitle = function(stations) {\n      return new Show.StartTitle({\n        collection: stations\n      });\n    };\n\n    Controller.prototype.getGraphView = function(station) {\n      return new Show.Graph({\n        collection: station\n      });\n    };\n\n    Controller.prototype.getLayoutView = function() {\n      return new Show.Layout;\n    };\n\n    return Controller;\n\n  })(App.Controllers.Base);\n  Show.Layout = (function(_super) {\n    __extends(Layout, _super);\n\n    function Layout() {\n      _ref1 = Layout.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    Layout.prototype.template = \"modules/station/showStation/templates/show_layout\";\n\n    Layout.prototype.regions = {\n      titleRegion: \"#title-region\",\n      graphRegion: \"#graph-region\",\n      panelRegion: \"#panel-region\",\n      topRegion: \"#topthree-region\",\n      tableRegion: \"#table-region\"\n    };\n\n    return Layout;\n\n  })(Marionette.Layout);\n  Show.Panel = (function(_super) {\n    __extends(Panel, _super);\n\n    function Panel() {\n      _ref2 = Panel.__super__.constructor.apply(this, arguments);\n      return _ref2;\n    }\n\n    Panel.prototype.template = \"modules/station/showStation/templates/panel\";\n\n    Panel.prototype.ui = {\n      'mostRecent': '#mostRecent',\n      'thisYear': '#thisYear',\n      'startDate': '#startDate',\n      'endDate': '#endDate',\n      'range': '#dateRange'\n    };\n\n    Panel.prototype.events = {\n      'click @ui.mostRecent': 'mostRecent',\n      'click @ui.thisYear': 'thisYear'\n    };\n\n    Panel.prototype.onRender = function() {\n      var _this = this;\n      return this.ui.range.dateRangePicker({\n        startDate: \"2014-01-01\",\n        endDate: moment(),\n        shortcuts: {\n          'prev': ['week', 'month', 'year'],\n          'prev-days': [7, 14],\n          'next-days': false,\n          'next': false\n        }\n      }).bind('datepicker-change', function(event, obj) {\n        var search;\n        search = {};\n        search.startDate = obj.date1;\n        search.endDate = obj.date2;\n        return _this.trigger('click:other', search);\n      });\n    };\n\n    Panel.prototype.mostRecent = function(e) {\n      e.preventDefault();\n      return this.trigger('click:mostRecent');\n    };\n\n    Panel.prototype.thisYear = function(e) {\n      e.preventDefault();\n      return this.trigger('click:thisYear');\n    };\n\n    return Panel;\n\n  })(Marionette.ItemView);\n  Show.Title = (function(_super) {\n    __extends(Title, _super);\n\n    function Title() {\n      _ref3 = Title.__super__.constructor.apply(this, arguments);\n      return _ref3;\n    }\n\n    Title.prototype.template = \"modules/station/showStation/templates/title\";\n\n    return Title;\n\n  })(Marionette.ItemView);\n  Show.Graph = (function(_super) {\n    __extends(Graph, _super);\n\n    function Graph() {\n      _ref4 = Graph.__super__.constructor.apply(this, arguments);\n      return _ref4;\n    }\n\n    Graph.prototype.template = \"modules/station/showStation/templates/graph\";\n\n    Graph.prototype.buildGraph = require(\"modules/station/showStation/stationGraph\");\n\n    Graph.prototype.buildMap = require('modules/station/showStation/stationMap');\n\n    Graph.prototype.graph = function() {\n      d3.select(\"svg\").remove();\n      return this.buildGraph(this.el, this.collection, this);\n    };\n\n    Graph.prototype.mapGraph = function() {\n      return this.buildMap(this.el, this.collection, this);\n    };\n\n    Graph.prototype.id = \"graph\";\n\n    Graph.prototype.initialize = function() {\n      var _this = this;\n      return this.collection.on('filter', function() {\n        return _this.render();\n      });\n    };\n\n    Graph.prototype.onRender = function() {\n      if (matchMedia(Foundation.media_queries['medium']).matches) {\n        if (this.collection.station) {\n          return this.graph();\n        } else {\n          return this.mapGraph();\n        }\n      }\n    };\n\n    return Graph;\n\n  })(Marionette.ItemView);\n  Show.Empty = (function(_super) {\n    __extends(Empty, _super);\n\n    function Empty() {\n      _ref5 = Empty.__super__.constructor.apply(this, arguments);\n      return _ref5;\n    }\n\n    Empty.prototype.template = \"modules/station/showStation/templates/empty\";\n\n    Empty.prototype.tagName = 'tr';\n\n    return Empty;\n\n  })(Marionette.ItemView);\n  Show.EmptyView = (function(_super) {\n    __extends(EmptyView, _super);\n\n    function EmptyView() {\n      _ref6 = EmptyView.__super__.constructor.apply(this, arguments);\n      return _ref6;\n    }\n\n    EmptyView.prototype.template = \"modules/station/showStation/templates/emptyview\";\n\n    EmptyView.prototype.className = \"small-12 columns\";\n\n    EmptyView.prototype.ui = {\n      'stationPicker': '#station-select'\n    };\n\n    EmptyView.prototype.events = {\n      'submit': 'submit'\n    };\n\n    EmptyView.prototype.submit = function(e) {\n      var search;\n      e.preventDefault();\n      search = {};\n      search.station = $.trim(this.ui.stationPicker.val());\n      return this.trigger('pick:station', search);\n    };\n\n    return EmptyView;\n\n  })(Marionette.ItemView);\n  Show.StartTitle = (function(_super) {\n    __extends(StartTitle, _super);\n\n    function StartTitle() {\n      _ref7 = StartTitle.__super__.constructor.apply(this, arguments);\n      return _ref7;\n    }\n\n    StartTitle.prototype.template = \"modules/station/showStation/templates/startTitle\";\n\n    StartTitle.prototype.onRender = function() {\n      var _this = this;\n      return this.collection.on(\"filter\", function() {\n        return _this.render();\n      });\n    };\n\n    return StartTitle;\n\n  })(Marionette.ItemView);\n  Show.StartPanel = (function(_super) {\n    __extends(StartPanel, _super);\n\n    function StartPanel() {\n      _ref8 = StartPanel.__super__.constructor.apply(this, arguments);\n      return _ref8;\n    }\n\n    StartPanel.prototype.template = \"modules/station/showStation/templates/startPanel\";\n\n    StartPanel.prototype.onRender = function() {\n      var list,\n        _this = this;\n      this.collection.on('filter', function() {\n        return _this.updateFilters(_.last(_this.collection.filters));\n      });\n      list = this.collection.getFilterLists();\n      _.each(list, function(filters, facet) {\n        return _.each(filters, function(filter) {\n          return _this.$el.find(\"#\" + facet).append(\"<option value=\\\"\" + filter + \"\\\">\" + filter + \"</option>\");\n        });\n      });\n      return this.$el.find(\".chosen-select\").chosen().trigger('chosen:updated');\n    };\n\n    StartPanel.prototype.events = {\n      'change .chosen-select': 'submit',\n      'click #clearFilters': 'clearFilters'\n    };\n\n    StartPanel.prototype.submit = function(e, params) {\n      var facet, filter, value;\n      e.preventDefault();\n      filter = {};\n      facet = e.target.id;\n      value = params.selected ? params.selected : params.deselected;\n      filter[facet] = value;\n      if (params.selected) {\n        return this.addFilter(filter);\n      } else {\n        return this.removeFilter(filter);\n      }\n    };\n\n    StartPanel.prototype.addFilter = function(filter) {\n      return this.collection.addFilter(filter);\n    };\n\n    StartPanel.prototype.removeFilter = function(filter) {\n      return this.collection.removeFilter(filter);\n    };\n\n    StartPanel.prototype.updateFilters = function(filter) {\n      var filterFacet, newList,\n        _this = this;\n      if (filter) {\n        filterFacet = Object.keys(filter);\n        this.$el.find(\"option\").attr(\"disabled\", true);\n        this.$el.find(\"option[value='\" + filter[filterFacet] + \"']\").attr(\"selected\", true);\n        newList = this.collection.getUpdatedFilterLists(filterFacet);\n        _.each(newList, function(filters, facet) {\n          return _.each(filters, function(value) {\n            return _this.$el.find(\"option[value='\" + value + \"']\").attr(\"disabled\", false);\n          });\n        });\n        return this.$el.find(\".chosen-select\").chosen().trigger('chosen:updated');\n      }\n    };\n\n    StartPanel.prototype.clearFilters = function(e) {\n      e.preventDefault();\n      this.collection.resetFilters();\n      this.$el.find(\"option\").attr(\"disabled\", false);\n      this.$el.find('option').attr(\"selected\", false);\n      return this.$el.find(\".chosen-select\").val('[]').trigger('chosen:updated');\n    };\n\n    return StartPanel;\n\n  })(Marionette.ItemView);\n  Show.SingleStation = (function(_super) {\n    __extends(SingleStation, _super);\n\n    function SingleStation() {\n      _ref9 = SingleStation.__super__.constructor.apply(this, arguments);\n      return _ref9;\n    }\n\n    SingleStation.prototype.template = \"modules/station/showStation/templates/singleStation\";\n\n    SingleStation.prototype.events = {\n      \"click\": \"nav\",\n      \"mouseover\": \"hover\",\n      \"mouseout\": \"mouseout\"\n    };\n\n    SingleStation.prototype.mouseout = function() {\n      return $(\".panel\").css(\"opacity\", 1);\n    };\n\n    SingleStation.prototype.hover = function(e) {\n      $(\".panel\").css(\"opacity\", 0.5);\n      e.preventDefault();\n      return $(e.target).closest(\".panel\").css(\"opacity\", 1);\n    };\n\n    SingleStation.prototype.nav = function(e) {\n      e.preventDefault();\n      return this.trigger('pick:station', this.model.get('name'));\n    };\n\n    SingleStation.prototype.onRender = function() {\n      var color;\n      color = colorList(this.model.get('name'));\n      return this.$el.find('.panel').css('background', color);\n    };\n\n    return SingleStation;\n\n  })(Marionette.ItemView);\n  Show.StartView = (function(_super) {\n    __extends(StartView, _super);\n\n    function StartView() {\n      _ref10 = StartView.__super__.constructor.apply(this, arguments);\n      return _ref10;\n    }\n\n    StartView.prototype.itemView = Show.SingleStation;\n\n    StartView.prototype.template = \"modules/station/showStation/templates/start\";\n\n    StartView.prototype.itemViewContainer = \"#stations\";\n\n    StartView.prototype.ui = {\n      'stationPicker': '#station-select'\n    };\n\n    StartView.prototype.events = {\n      'submit': 'submit'\n    };\n\n    StartView.prototype.submit = function(e) {\n      var search;\n      e.preventDefault();\n      search = {};\n      search.station = $.trim(this.ui.stationPicker.val());\n      return this.trigger('pick:station', search);\n    };\n\n    return StartView;\n\n  })(Marionette.CompositeView);\n  Show.ChartItem = (function(_super) {\n    __extends(ChartItem, _super);\n\n    function ChartItem() {\n      _ref11 = ChartItem.__super__.constructor.apply(this, arguments);\n      return _ref11;\n    }\n\n    ChartItem.prototype.template = \"modules/station/showStation/templates/chartItem\";\n\n    ChartItem.prototype.tagName = 'tr';\n\n    ChartItem.prototype.events = {\n      'click a': 'clickArtist'\n    };\n\n    ChartItem.prototype.clickArtist = function(e) {\n      var artist;\n      artist = encodeURIComponent(e.target.text);\n      return App.navigate(\"artist/\" + artist, {\n        trigger: true\n      });\n    };\n\n    return ChartItem;\n\n  })(Marionette.ItemView);\n  return Show.Chart = (function(_super) {\n    __extends(Chart, _super);\n\n    function Chart() {\n      this.clickHeader = __bind(this.clickHeader, this);\n      _ref12 = Chart.__super__.constructor.apply(this, arguments);\n      return _ref12;\n    }\n\n    Chart.prototype.template = \"modules/station/showStation/templates/chart\";\n\n    Chart.prototype.className = \"small-12 columns\";\n\n    Chart.prototype.itemView = Show.ChartItem;\n\n    Chart.prototype.emptyView = Show.Empty;\n\n    Chart.prototype.itemViewContainer = \"#thechart\";\n\n    Chart.prototype.events = {\n      'click th': 'clickHeader',\n      'click .next': 'clickNext'\n    };\n\n    Chart.prototype.clickNext = function(e) {\n      var request;\n      e.preventDefault();\n      request = {\n        week: $(e.target).data(\"week\"),\n        dir: e.target.id\n      };\n      return this.trigger('click:week', request);\n    };\n\n    Chart.prototype.sortUpIcon = \"fi-arrow-down\";\n\n    Chart.prototype.sortDnIcon = \"fi-arrow-up\";\n\n    Chart.prototype.onRender = function() {\n      this.$(\"th\").append($(\"<i>\")).closest(\"th\").find(\"i\").addClass(\"fi-minus-circle size-18\");\n      this.$(\"[column='\" + this.collection.sortAttr + \"']\").find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      return this;\n    };\n\n    Chart.prototype.clickHeader = function(e) {\n      var $el, cs, ns;\n      $el = $(e.currentTarget);\n      ns = $el.attr(\"column\");\n      cs = this.collection.sortAttr;\n      if (ns === cs) {\n        this.collection.sortDir *= -1;\n      } else {\n        this.collection.sortDir = 1;\n      }\n      $(\"th\").find(\"i\").attr(\"class\", \"fi-minus-circle size-18\");\n      if (this.collection.sortDir === 1) {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortUpIcon);\n      } else {\n        $el.find(\"i\").removeClass(\"fi-minus-circle\").addClass(this.sortDnIcon);\n      }\n      this.collection.sortCharts(ns);\n    };\n\n    return Chart;\n\n  })(Marionette.CompositeView);\n});\n","var App;\n\nApp = require(\"application\");\n\nmodule.exports = function(el, collection, view) {\n  var album, albums, barWidth, click, color, height, hideInfo, margin, mouseout, mouseover, rScale, showData, showEmpty, showInfo, svg, width, x, xAxis, y, yAxis;\n  margin = {\n    top: 100,\n    right: 100,\n    bottom: 50,\n    left: 100\n  };\n  width = $(\"#graph-region\").width() - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  y = d3.scale.linear().range([0, height]);\n  x = d3.scale.linear().range([0, width]);\n  color = d3.scale.category10();\n  xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n  yAxis = d3.svg.axis().scale(y).orient(\"left\");\n  svg = d3.select(el).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  albums = collection.models;\n  albums = albums.slice(0, 10);\n  barWidth = width / albums.length;\n  rScale = d3.scale.linear();\n  rScale.domain(d3.extent(albums, function(c) {\n    return c.attributes.frontPoints;\n  }));\n  rScale.range([5, 130]);\n  y.domain([\n    d3.max(albums, function(c) {\n      return c.attributes.frontPoints;\n    }), d3.min(albums, function(c) {\n      return c.attributes.frontPoints;\n    }) - 10\n  ]);\n  x.domain([0, 11]);\n  if (albums.length !== 0) {\n    svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 4).attr(\"dy\", \"-4em\").style(\"text-anchor\", \"end\").text(\"Chartscore\");\n  }\n  color.domain(albums);\n  mouseover = function(d, i) {\n    d3.selectAll(\"g rect\").transition().duration(100).style(\"opacity\", 0.2);\n    d3.select(\"g .\" + d.attributes.slug + \" > rect\").transition().duration(100).style(\"opacity\", 1);\n    return showData(this, d);\n  };\n  mouseout = function() {\n    d3.selectAll(\"g rect\").transition().duration(100).style(\"opacity\", 1);\n    return $(\".tip\").fadeOut(50).remove();\n  };\n  click = function(d) {\n    var artist;\n    artist = d.attributes.artist;\n    return view.trigger(\"click:album:circle\", artist);\n  };\n  showData = function(i, d) {\n    var chartTip;\n    $(\"#graph\").append(\"<div class='tip'></div>\");\n    chartTip = d3.select(\".tip\");\n    chartTip.style(\"left\", width - 150 + \"px\").style(\"top\", 50 + \"px\").style(\"background\", color(d.cid));\n    $(\".tip\").html(\"\" + d.attributes.artist + \" <br />\\n\" + d.attributes.album + \"<br />\\nTotal Appearances: \" + d.attributes.appearances.length + \"<br />\\nChartscore: \" + d.attributes.frontPoints);\n    return $(\".tip\").fadeIn(100);\n  };\n  showEmpty = function() {\n    return $(el).append(\"<div class='tip text-center'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 2 + \"px\").html(\"<br />\\nSorry, No Data is available for the selected Time Range.\\n<br />\\n<br />\").fadeIn(100);\n  };\n  showInfo = function() {\n    if ($(el).find(\".tip\").length !== 0) {\n      return $(\".info\").remove();\n    } else {\n      return $(el).append(\"<div class='tip text-center info'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 3 + \"px\").html(\"<br />\\nThis graph displays the top 10 albums on \" + collection.station + \" over the selected time range.<br />\\nThe X-Axis is determined by the album's rank.<br />\\nThe Y-Axis is determined by the album's Chartscore.<br />\\nMouseover any bar for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\").on(\"click\", hideInfo).fadeIn(100);\n    }\n  };\n  hideInfo = function() {\n    $(el).find(\".info\").fadeOut(100);\n    return $(\".info\").remove();\n  };\n  $(el).prepend(\"<div class='button tiny radius infobox'></div>\").find(\".infobox\").html(\"<i class='fi-info large'></i>\").on(\"click\", showInfo);\n  $(el).find(\"svg\").on(\"click\", hideInfo);\n  album = svg.selectAll(\".album\").data(albums).enter().append(\"g\").attr(\"transform\", function(d, i) {\n    return \"translate(\" + i * barWidth + \",0 )\";\n  }).attr(\"class\", function(d) {\n    return \"album \" + d.attributes.slug;\n  });\n  album.append(\"rect\").attr(\"class\", \"bar\").attr(\"width\", barWidth - 1).attr(\"height\", function(d) {\n    return height - y(d.attributes.frontPoints);\n  }).attr(\"y\", function(d) {\n    return 3 + y(d.attributes.frontPoints);\n  }).style(\"fill\", function(d, i) {\n    return color(d.cid);\n  });\n  album.append(\"text\").attr(\"y\", height + 20).attr(\"x\", function(d) {\n    return (barWidth / 2) - 10;\n  }).text(function(d, i) {\n    return \"#\" + (i + 1);\n  });\n  album.on(\"mouseover\", mouseover).on(\"mouseout\", mouseout).on(\"click\", click);\n  if (albums.length === 0) {\n    return showEmpty();\n  }\n};\n","module.exports = function(el, collection, view) {\n  var color, colorBox, height, margin, svg, width;\n  margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  color = require('../../../colorList');\n  width = $(\"#graph-region\").width() - margin.left - margin.right;\n  height = 600 - margin.top - margin.bottom;\n  svg = d3.select(el).append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  colorBox = {\n    BC: ['#8ad08c', '#80c47e', '#77b972', '#6fad66', '#67a25b', '#609651', '#598b48', '#52803e', '#4c7436', '#45692e'],\n    AB: ['#ebe06e', '#e4da74', '#ddd479', '#d7ce7d', '#d0c881'],\n    SK: ['#e7DEB2'],\n    MB: ['#cc9f61', '#ca6400', '#9e8752', '#877949'],\n    ON: ['#eba294', '#e99d8f', '#e7988a', '#e59386', '#e38e81', '#e1897d', '#df8478', '#dd8074', '#db7b70', '#d9766c', '#d77167', '#d66c63', '#d4675f', '#d2625b', '#d05d57', '#ce5853', '#cc5450', '#ca4f4c', '#c84a48', '#c64544'],\n    QC: ['#d768db', '#c566d1', '#b564c6', '#a562bc', '#975fb1', '#8a5ca7', '#7d589c', '#725592', '#675187', '#5c4c7d'],\n    NS: ['#20a3fe', '#40c8fe', '#60e4fd', '#7ff8fd', '#9ffcf5'],\n    NB: ['#0165e4', '#025bc9', '#0351ae', '#044593', '#043a78'],\n    NF: ['#22fc32', '#4efa44', '#7ff765', '#a7f585', '#c6f2a5']\n  };\n  colorBox.BC.reverse();\n  colorBox.ON.reverse();\n  return d3.json(\"canada.json\", function(error, canada) {\n    var b, cities, clickCity, clickProv, data, foundCities, hideData, hideInfo, ids, mouseout, mouseoutCity, mouseover, mouseoverCity, newData, path, projection, provinces, s, sByC, sByP, sCbP, showData, showInfo, subunits, t;\n    if (error) {\n      return console.error(error);\n    }\n    subunits = topojson.feature(canada, canada.objects.prov);\n    sByC = {};\n    sByP = {};\n    cities = [];\n    provinces = [];\n    collection.sort();\n    collection.each(function(model) {\n      cities.push(model.get('city'));\n      provinces.push(model.get('province'));\n      if (sByP[model.get('province')]) {\n        sByP[model.get('province')].push(model.get('name'));\n      } else {\n        sByP[model.get('province')] = [model.get('name')];\n      }\n      if (sByC[model.get('city')]) {\n        return sByC[model.get('city')].push(model.get('name'));\n      } else {\n        return sByC[model.get('city')] = [model.get('name')];\n      }\n    });\n    provinces = _.uniq(provinces);\n    cities = _.uniq(cities);\n    sCbP = {};\n    ids = [];\n    _.each(provinces, function(prov) {\n      if (prov === \"NF\") {\n        prov = \"NL\";\n      }\n      return ids.push(\"CA-\" + prov);\n    });\n    subunits.features = _.filter(subunits.features, function(feature) {\n      if (_.indexOf(ids, feature.id) !== -1) {\n        return feature;\n      }\n    });\n    projection = d3.geo.conicConformal().scale(1).rotate([105, 0]).translate([0, 0]);\n    path = d3.geo.path().projection(projection);\n    b = path.bounds(subunits);\n    s = .95 / Math.max((b[1][0] - b[0][0]) / width, (b[1][1] - b[0][1]) / height);\n    t = [(width - s * (b[1][0] + b[0][0])) / 2, (height - s * (b[1][1] + b[0][1])) / 2];\n    projection.scale(s).translate(t);\n    mouseover = function(d) {\n      d3.select(\"#\" + d.id).transition().duration(100).style(\"opacity\", 0.5);\n    };\n    mouseout = function(d) {\n      d3.selectAll(\"path\").transition().duration(100).style(\"opacity\", 1);\n    };\n    mouseoverCity = function(d) {\n      var size;\n      size = d3.select(this).attr(\"r\");\n      d3.select(this).transition().duration(100).attr(\"r\", function(d) {\n        return size * 2;\n      });\n      return showData(this, d);\n    };\n    mouseoutCity = function(d) {\n      d3.selectAll(\"circle\").transition().duration(100).attr(\"r\", function(d) {\n        var val;\n        val = sByC[d.properties.name].length;\n        return 6 * val;\n      });\n      return hideData();\n    };\n    showData = function(i, d) {\n      var chartTip, stationString;\n      $(\"#graph\").append(\"<div class='tip'></div>\");\n      stationString = '';\n      _.each(sByC[d.properties.name], function(station) {\n        return stationString += \" \" + station;\n      });\n      stationString.trim();\n      chartTip = d3.select(\".tip\");\n      chartTip.style(\"left\", width - 150 + \"px\").style(\"top\", 50 + \"px\").style(\"background\", color(d.properties.name));\n      $(\".tip\").html(\"City: \" + d.properties.name + \" <br />\\nStations: \" + stationString + \"<br />\");\n      return $(\".tip\").fadeIn(100);\n    };\n    hideData = function() {\n      return $(\".tip\").fadeOut().remove();\n    };\n    clickProv = function() {\n      var filter;\n      filter = {\n        province: $(this).attr('id').split('-')[1]\n      };\n      if (filter.province === 'NL') {\n        filter.province = \"NF\";\n      }\n      return collection.addFilter(filter);\n    };\n    clickCity = function() {\n      var filter;\n      filter = {\n        city: _.reduceRight($(this).attr(\"class\").split(\" \").slice(1), function(word, memo) {\n          return memo += \" \" + word;\n        })\n      };\n      return collection.addFilter(filter);\n    };\n    data = topojson.feature(canada, canada.objects.cplaces).features;\n    newData = _.filter(data, function(city) {\n      if (city.properties.name === \"Windsor\" && city.properties.province !== \"Ontario\") {\n        return false;\n      }\n      if (_.indexOf(cities, city.properties.name) !== -1) {\n        return city;\n      }\n    });\n    foundCities = _.map(newData, function(item) {\n      return item.properties.name;\n    });\n    svg.selectAll(\".subunit\").data(subunits.features).enter().append(\"path\").attr(\"class\", function(d) {\n      return \"subunit \" + d.id;\n    }).attr(\"id\", function(d) {\n      return d.id;\n    }).attr(\"d\", path).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout).on(\"click\", clickProv);\n    svg.selectAll('.city').data(newData).enter().append(\"circle\").attr(\"class\", function(d) {\n      return \"city \" + d.properties.name;\n    }).attr(\"r\", function(d) {\n      var val;\n      val = sByC[d.properties.name].length;\n      return 6 * val;\n    }).style(\"fill\", function(d) {\n      return color(\"\" + d.properties.name);\n    }).attr(\"transform\", function(d) {\n      return \"translate(\" + projection(d.geometry.coordinates) + \")\";\n    }).on(\"mouseover\", mouseoverCity).on(\"mouseout\", mouseoutCity).on(\"click\", clickCity);\n    showInfo = function() {\n      if ($(el).find(\".tip\").length !== 0) {\n        return $(\".info\").remove();\n      } else {\n        return $(el).append(\"<div class='tip text-center info'></div>\").find(\".tip\").css(\"width\", width + margin.left + margin.right + \"px\").css(\"margin\", \"auto\").css(\"top\", height / 3 + \"px\").html(\"<br />\\nThis map displays all the cities in Canada with Campus Community stations that report to Earshot.<br />\\nThe size of each dot is relative to the number of stations in that city. <br />\\nUsing the filters will redraw the map to the selected location(s).<br />\\nThere are no Earshot reporting stations in the three territories, or on PEI, so they are not displayed. <br />\\nMouseover any city for more information.<br />\\n<br />\\n(Click anywhere to hide)\\n<br />\\n<br />\").on(\"click\", hideInfo).fadeIn(100);\n      }\n    };\n    hideInfo = function() {\n      $(el).find(\".info\").fadeOut(100);\n      return $(\".info\").remove();\n    };\n    $(el).prepend(\"<div class='button tiny radius infobox'></div>\").find(\".infobox\").html(\"<i class='fi-info large'></i>\").on(\"click\", showInfo);\n    return $(el).find(\"svg\").on(\"click\", hideInfo);\n  });\n};\n","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = \"<div class=\\\"panel\\\"><span>\"\n    + escapeExpression(((helper = (helper = helpers.desc || (depth0 != null ? depth0.desc : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"desc\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.week : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</div>\\n<div class=\\\"chart\\\">\\n  <table width=\\\"100%\\\">\\n    <thead>\\n      <th column='rank'>Rank </th>\\n      <th column=\\\"artist\\\">Artist </th>\\n      <th column=\\\"album\\\">Album </th>\\n      <th column=\\\"label\\\">Label </th>\\n      <th column=\\\"appearances\\\">Appearances </th>\\n    </thead>\\n    <tbody id=\\\"thechart\\\">\\n    </tbody>\\n  </table>\\n</div>\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"  <ul class=\\\"inline-list right\\\">\\n    <li><a class=\\\"next\\\" data-week=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.week || (depth0 != null ? depth0.week : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"week\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" id=\\\"prev\\\"><i class=\\\"fi-arrow-left\\\"></i> Prev</a></li>\\n    <li><a class=\\\"next\\\" data-week=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.week || (depth0 != null ? depth0.week : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"week\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" id=\\\"next\\\">Next <i class=\\\"fi-arrow-right\\\"></i></a></li>\\n  </ul>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers.unless.call(depth0, ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.models : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.attributes : stack1)) != null ? stack1.isNull : stack1), {\"name\":\"unless\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return \"<td>\"\n    + escapeExpression(((helper = (helper = helpers.rank || (depth0 != null ? depth0.rank : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"rank\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n<td><a>\"\n    + escapeExpression(((helper = (helper = helpers.artist || (depth0 != null ? depth0.artist : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"artist\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></td>\\n<td>\"\n    + escapeExpression(((helper = (helper = helpers.album || (depth0 != null ? depth0.album : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"album\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n<td>\"\n    + escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\n<td>\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.appearances : depth0)) != null ? stack1.length : stack1), depth0))\n    + \"</td>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<td colspan='100%' class=\\\"text-center\\\"><strong>Sorry, Nothing Found.</strong></td>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \"        <option value=\\\"\"\n    + escapeExpression(lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"\\\">\"\n    + escapeExpression(lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</option>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<div class=\\\"panel\\\">\\n  <h3>Sorry, nothing found for that search.</h3>\\n  <h4>Pick a station:</h4>\\n  <form id=\\\"stationForm\\\">\\n  <div class=\\\"station-select\\\">\\n    <select width=\\\"100%\\\" form-id=\\\"#stationForm\\\" data-placeholder=\\\"Choose a Station...\\\" class=\\\"chosen-select\\\" id=\\\"station-select\\\">\\n      <option value=\\\"\\\"></option>\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.items : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"    </select>\\n  </div>\\n  <button id=\\\"pickStation\\\" type=\\\"submit\\\" class=\\\"small\\\">Go!</button>\\n</form>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div class=\\\"show-for-small-only\\\">\\n  <p class=\\\"lead\\\">For now, ChartZapp's graphs are only available on larger screens.</p>\\n  <p>If you'd like to see more on a mobile device,\\n  <a href=\\\"#\\\" data-reveal-id=\\\"feedback\\\">let me know!</a></p>\\n\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<ul class=\\\"medium-block-grid-3 text-center\\\">\\n  <li><button class=\\\"tiny\\\" id=\\\"mostRecent\\\">Most Recent</button></li>\\n  <li><button class=\\\"tiny\\\" id='thisYear'>This Year</button></li>\\n  <li>\\n    <span class=\\\"tiny button dropdown\\\" id=\\\"dateRange\\\">Other</span>\\n  </li>\\n</ul>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"station_layout\\\">\\n  <div class=\\\"title-row\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"title-region\\\" class=\\\"small-12 columns\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"graph-row\\\">\\n    <div id=\\\"graph-region\\\" class=\\\"small-12 columns\\\"></div>\\n  </div>\\n  <div class=\\\"panel-row\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"panel-region\\\" class=\\\"small-12 columns\\\"></div>\\n    </div>\\n  </div>\\n  <!-- <div class=\\\"graph-row\\\">\\n    <div class=\\\"row\\\" id=\\\"topthree-region\\\">\\n    </div>\\n  </div> -->\\n  <div class=\\\"graph-row\\\" >\\n    <div class=\\\"row\\\" id=\\\"table-region\\\">\\n    </div>\\n  </div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"<div class=\\\"panel small-6 large-4 columns\\\">\\n  <h1 class=\\\"artist-title\\\">\"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n  <h3>\"\n    + escapeExpression(((helper = (helper = helpers.city || (depth0 != null ? depth0.city : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"city\",\"hash\":{},\"data\":data}) : helper)))\n    + \", \"\n    + escapeExpression(((helper = (helper = helpers.province || (depth0 != null ? depth0.province : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"province\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n<!-- <p>\"\n    + escapeExpression(((helper = (helper = helpers.streetAddress || (depth0 != null ? depth0.streetAddress : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"streetAddress\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n<p>\"\n    + escapeExpression(((helper = (helper = helpers.postalCode || (depth0 != null ? depth0.postalCode : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"postalCode\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p> -->\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"\\n<ul class=\\\"small-block-grid-2 medium-block-grid-3\\\" id=\\\"stations\\\"></ul>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"filters\\\" class=\\\" \\\">\\n  <div class=\\\"row\\\">\\n    <form>\\n      <div class=\\\"medium-3 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"name\\\" data-placeholder=\\\"Station\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-4 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"province\\\" data-placeholder=\\\"Province\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-4 columns\\\">\\n        <select class=\\\"chosen-select\\\" id=\\\"city\\\" data-placeholder=\\\"City\\\" multiple>\\n        </select>\\n      </div>\\n      <div class=\\\"medium-1 column\\\">\\n        <a class=\\\"button secondary tiny right\\\" id=\\\"clearFilters\\\" href=\\\"#\\\">Clear</a>\\n      </div>\\n  </form>\\n  </div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return \"<div class=\\\"row\\\">\\n  <div class=\\\"small-8 columns\\\">\\n    <h1 class=\\\"artist-title\\\">Stations</h1>\\n  </div>\\n  <div class=\\\"small-4 columns\\\">\\n    <h2 class=\\\"right\\\">Total: <span class=\\\"header-label radius\\\">\"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1.length : stack1), depth0))\n    + \"</span></h2>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return \"<div class=\\\"row\\\">\\n  <div class=\\\"small-8 columns\\\">\\n    <h1 class=\\\"artist-title\\\">\"\n    + escapeExpression(((helpers.toUpper || (depth0 && depth0.toUpper) || helperMissing).call(depth0, ((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.appearances : stack1)) != null ? stack1['0'] : stack1)) != null ? stack1.station : stack1), {\"name\":\"toUpper\",\"hash\":{},\"data\":data})))\n    + \"</h1>\\n    <!-- <h2>\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.info : stack1)) != null ? stack1.models : stack1)) != null ? stack1['0'] : stack1)) != null ? stack1.attributes : stack1)) != null ? stack1.city : stack1), depth0))\n    + \", \"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.info : stack1)) != null ? stack1.models : stack1)) != null ? stack1['0'] : stack1)) != null ? stack1.attributes : stack1)) != null ? stack1.province : stack1), depth0))\n    + \"</h2> -->\\n  </div>\\n  <div class=\\\"small-4 columns\\\">\\n    <h2 class=\\\"right\\\">Charts: <span class=\\\"header-label radius\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalWeeks : stack1)) != null ? stack1.length : stack1), depth0))\n    + \"</span></h2>\\n    <h4 class=\\\"right\\\">Submitting Average: <span class=\\\"header-label radius\\\">.\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.percentage : stack1), depth0))\n    + \"</span></h4>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"small-6 columns\\\">\\n    <ul class=\\\"no-bullet\\\">\\n      <li>Location: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.info : stack1)) != null ? stack1.models : stack1)) != null ? stack1['0'] : stack1)) != null ? stack1.attributes : stack1)) != null ? stack1.city : stack1), depth0))\n    + \", \"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.info : stack1)) != null ? stack1.models : stack1)) != null ? stack1['0'] : stack1)) != null ? stack1.attributes : stack1)) != null ? stack1.province : stack1), depth0))\n    + \"</span></li>\\n      <li>Most Charted Artist: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.artist : stack1), depth0))\n    + \"</span></li>\\n\\n      <!-- <li>ChartScore: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalChartScore : stack1), depth0))\n    + \"</span></li> -->\\n    </ul>\\n  </div>\\n  <div class=\\\"small-6 columns\\\">\\n    <ul class=\\\"no-bullet\\\">\\n      <!-- <li>Charts Submitted: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalWeeks : stack1)) != null ? stack1.length : stack1), depth0))\n    + \"</span></li> -->\\n      <li>Albums Charted: <span class=\\\"label radius right\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.totalAlbums : stack1), depth0))\n    + \"</span></li>\\n      <li>Most Charted Album: <a class=\\\"label radius right\\\" id=\\\"popStation\\\">\"\n    + escapeExpression(lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.items : depth0)) != null ? stack1['0'] : stack1)) != null ? stack1.album : stack1), depth0))\n    + \"</a></li>\\n    </ul>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  return \"Sorry, No Chart for this Week\";\n  },\"3\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"  <h2>#\"\n    + escapeExpression(((helper = (helper = helpers.rank || (depth0 != null ? depth0.rank : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"rank\",\"hash\":{},\"data\":data}) : helper)))\n    + \":</h2>\\n  <h3><a>\"\n    + escapeExpression(((helper = (helper = helpers.artist || (depth0 != null ? depth0.artist : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"artist\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></h3>\\n  <h4>\"\n    + escapeExpression(((helper = (helper = helpers.album || (depth0 != null ? depth0.album : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"album\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h4>\\n  <br /><br /><br />\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.isNull : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n\\n\";\n  stack1 = helpers.unless.call(depth0, (depth0 != null ? depth0.isNull : depth0), {\"name\":\"unless\",\"hash\":{},\"fn\":this.program(3, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"topthree\\\" data-equalizer></div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var App,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nApp = require('application');\n\nmodule.exports = App.module('StationApp', function(StationApp, App, Backbone, Marionette, $, _) {\n  var API, _ref;\n  StationApp.Router = (function(_super) {\n    __extends(Router, _super);\n\n    function Router() {\n      _ref = Router.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Router.prototype.appRoutes = {\n      \"station(/)(:station)\": \"showStation\"\n    };\n\n    return Router;\n\n  })(Marionette.AppRouter);\n  StationApp.startWithParent = false;\n  StationApp.Show = require('modules/station/showStation/showStation_controller');\n  API = {\n    showStation: function(station) {\n      new StationApp.Show.Controller({\n        region: App.mainRegion,\n        station: station ? station : void 0\n      });\n      return $(document).foundation();\n    }\n  };\n  return App.addInitializer(function() {\n    return new StationApp.Router({\n      controller: API\n    });\n  });\n});\n","var AppLayout, application, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\napplication = require('application');\n\nmodule.exports = AppLayout = (function(_super) {\n  __extends(AppLayout, _super);\n\n  function AppLayout() {\n    _ref = AppLayout.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  AppLayout.prototype.template = 'views/templates/appLayout';\n\n  AppLayout.prototype.el = \"body\";\n\n  return AppLayout;\n\n})(Backbone.Marionette.Layout);\n","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"wrap\\\">\\n  <div id=\\\"header-region\\\"></div>\\n  <div id=\\\"main-region\\\" class=\\\"container row\\\"></div>\\n  <div id=\\\"push\\\"></div>\\n</div>\\n<div id=\\\"footer-region\\\"></div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<div id=\\\"footer\\\">\\n\t<div class=\\\"container\\\">\\n\t\t<div class='row'>\\n\t\t\t<div class='small-12 columns text-center'>\\n\t\t\t\t<h1 class=\\\"footer-title\\\">ChartZapp!</h1>\\n\t\t\t\t<h4>Chart data collected and compiled by\\n\t\t\t\t\t<a href=\\\"http://www.earshot-online.com/\\\" target=\\\"blank\\\">\\n\t\t\t\t\t\t!Earshot Online\\n\t\t\t\t\t</a>\\n\t\t\t\t\tand published by\\n\t\t\t\t\t<a href=\\\"http://www.ncra.ca/\\\" target=\\\"blank\\\">the NCRA</a>\\n\t\t\t\t</h4>\\n\t\t\t\t<h4>Made by hand with\\n\t\t\t\t\t<i class=\\\"fi-heart large\\\"></i>\\n\t\t\t\t\t in MontrÃ©al by\\n\t\t\t\t\t<a href=\\\"http://dorianlistens.com\\\" class=\\\"dl\\\" target=\\\"blank\\\">\\n\t\t\t\t\t\tDorian Listens\\n\t\t\t\t\t</a>\\n\t\t\t\t</h4>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</div>\\n\";\n  },\"useData\":true});\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}